{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\QQBimApp\\\\QQBimApp\\\\src\\\\ScreemFolder\\\\StoryScreen\\\\DetailStoryScreen.js\";\nimport * as React from 'react';\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Icon from \"@expo/vector-icons/Ionicons\";\n\nfunction DetailStoryScreen(props) {\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isLoading = _React$useState2[0],\n      setLoading = _React$useState2[1];\n\n  var _React$useState3 = React.useState([]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      dataSource = _React$useState4[0],\n      setDataSource = _React$useState4[1];\n\n  var _React$useState5 = React.useState([]),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      userData = _React$useState6[0],\n      setUserData = _React$useState6[1];\n\n  var _React$useState7 = React.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      modalVisible = _React$useState8[0],\n      setModalVisible = _React$useState8[1];\n\n  var _React$useState9 = React.useState(false),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      menu = _React$useState10[0],\n      setMenu = _React$useState10[1];\n\n  var data = [{\n    id: \"1\"\n  }];\n  React.useEffect(function () {\n    fetch('http://192.168.1.8:19000/chapter/' + props.route.params.item.story_id).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      console.log('kq:' + res);\n      setDataSource(res);\n    }).catch(function (error) {\n      console.log(error);\n    }).finally(function () {\n      setLoading(false);\n    });\n    fetch('http://192.168.1.8:19000/user/' + props.route.params.item.author_id).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      console.log('user:' + res);\n      setUserData(res);\n    }).catch(function (error) {\n      console.log(error);\n    }).finally(function () {\n      setLoading(false);\n    });\n  });\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      backgroundColor: 'white'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, React.createElement(FlatList, {\n    showsVerticalScrollIndicator: false,\n    data: data,\n    renderItem: function renderItem(item) {\n      return React.createElement(React.Fragment, null, React.createElement(View, {\n        style: style.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }\n      }, React.createElement(TouchableOpacity, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }\n      }, React.createElement(Image, {\n        style: style.image,\n        source: {\n          uri: props.route.params.item.story_img\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 15\n        }\n      })), React.createElement(Text, {\n        style: {\n          fontSize: 30,\n          marginTop: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }\n      }, props.route.params.item.story_title), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }\n      }, React.createElement(FlatList, {\n        data: userData,\n        keyExtractor: function keyExtractor(item) {\n          return item.user_id.toString();\n        },\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item;\n          return React.createElement(TouchableOpacity, {\n            style: style.author,\n            onPress: function onPress() {\n              return props.navigation.navigate('DetailUser', {\n                user_id: item.user_id\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 19\n            }\n          }, React.createElement(Image, {\n            style: style.avatar,\n            source: {\n              uri: item.user_avatar\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 21\n            }\n          }), React.createElement(Text, {\n            style: {\n              marginLeft: 5\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 21\n            }\n          }, \"@\", item.username));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 15\n        }\n      }), React.createElement(View, {\n        style: {\n          flexDirection: 'row',\n          alignItems: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 15\n        }\n      }, React.createElement(Icon, {\n        name: \"ios-star\",\n        size: 14,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }\n      }), React.createElement(Text, {\n        style: {\n          marginLeft: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }\n      }, props.route.params.item.vote, \" Votes\"), React.createElement(Icon, {\n        name: \"ios-list\",\n        size: 14,\n        style: {\n          marginLeft: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }\n      }), React.createElement(Text, {\n        style: {\n          marginLeft: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }\n      }, props.route.params.item.parts, \" Parts\")))), React.createElement(View, {\n        style: style.button,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return props.navigation.navigate('Reading', {\n            chapter_id: 1,\n            item: props.route.params.item\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 15\n        }\n      }, React.createElement(View, {\n        style: style.reading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: style.readingText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 19\n        }\n      }, \"Reading\"))), React.createElement(TouchableOpacity, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 15\n        }\n      }, React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 19\n        }\n      }, React.createElement(Icon, {\n        name: \"ios-add-circle-outline\",\n        style: style.addButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }\n      })))), React.createElement(View, {\n        style: style.description,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 16\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }\n      }, props.route.params.item.story_description)), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          setModalVisible(true);\n        },\n        style: style.parts,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: style.openChapterList,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }\n      }, \"Chapter of storys\"), React.createElement(Text, {\n        style: {\n          color: '#ff9200'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }\n      }, props.route.params.item.story_status)), React.createElement(TouchableWithoutFeedback, {\n        onPress: function onPress() {\n          return setModalVisible(!modalVisible);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }\n      }, React.createElement(Modal, {\n        animationType: \"slide\",\n        transparent: true,\n        visible: modalVisible,\n        onRequestClose: function onRequestClose() {\n          setModalVisible(!modalVisible);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 15\n        }\n      }, React.createElement(View, {\n        style: style.centeredView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: style.modalView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 19\n        }\n      }, React.createElement(FlatList, {\n        data: data,\n        renderItem: function renderItem(item) {\n          return React.createElement(React.Fragment, null, React.createElement(View, {\n            style: {\n              alignItems: \"center\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 27\n            }\n          }, React.createElement(Image, {\n            style: style.imageModal,\n            source: {\n              uri: props.route.params.item.story_img\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 29\n            }\n          }), React.createElement(Text, {\n            style: style.titleModal,\n            numberOfLines: 2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 29\n            }\n          }, props.route.params.item.story_title)), React.createElement(FlatList, {\n            data: dataSource,\n            keyExtractor: function keyExtractor(item) {\n              return item.chapter_id.toString();\n            },\n            renderItem: function renderItem(_ref2) {\n              var item = _ref2.item;\n              return React.createElement(TouchableOpacity, {\n                onPress: function onPress() {\n                  return props.navigation.navigate('Reading', {\n                    chapter_id: item.chapter_id,\n                    item: item\n                  }, setModalVisible(!modalVisible));\n                },\n                style: style.chapter,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 31\n                }\n              }, React.createElement(Text, {\n                numberOfLines: 1,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 35\n                }\n              }, item.chapter_name));\n            },\n            showsHorizontalScrollIndicator: false,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 27\n            }\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }\n      }), React.createElement(TouchableOpacity, {\n        style: style.closeButtom,\n        onPress: function onPress() {\n          setModalVisible(!modalVisible);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: style.textStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 23\n        }\n      }, \"Hide chapter list\"))))))));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport { DetailStoryScreen };\nvar style = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: 30\n  },\n  image: {\n    width: 150,\n    height: 200\n  },\n  author: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  avatar: {\n    height: 30,\n    width: 30,\n    borderRadius: 50\n  },\n  button: {\n    marginTop: 10,\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  reading: {\n    height: 40,\n    width: 200,\n    backgroundColor: '#aa4fff',\n    borderRadius: 40,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  readingText: {\n    marginLeft: 5,\n    fontWeight: 'bold',\n    fontSize: 20,\n    color: 'white'\n  },\n  addButton: {\n    color: '#aa4fff',\n    fontSize: 40,\n    marginLeft: 5\n  },\n  description: {\n    padding: 20\n  },\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 22\n  },\n  modalView: {\n    margin: 10,\n    backgroundColor: \"white\",\n    borderRadius: 20,\n    padding: 10,\n    width: '80%',\n    height: '90%',\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  parts: {\n    padding: 10,\n    borderBottomWidth: 0.5,\n    borderTopWidth: 0.5\n  },\n  openChapterList: {\n    fontSize: 18,\n    color: '#aa4fff',\n    fontWeight: 'bold'\n  },\n  textStyle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  modalText: {\n    marginBottom: 15,\n    textAlign: \"center\"\n  },\n  imageModal: {\n    width: 150,\n    height: 200,\n    marginTop: 20\n  },\n  titleModal: {\n    fontSize: 15,\n    fontWeight: 'bold',\n    marginTop: 10,\n    marginBottom: 10\n  },\n  chapter: {\n    padding: 10,\n    borderBottomWidth: 0.5,\n    borderBottomColor: 'grey'\n  },\n  closeButtom: {\n    backgroundColor: \"#aa4fff\",\n    borderRadius: 20,\n    padding: 10,\n    elevation: 2\n  }\n});","map":{"version":3,"sources":["D:/QQBimApp/QQBimApp/src/ScreemFolder/StoryScreen/DetailStoryScreen.js"],"names":["React","Icon","DetailStoryScreen","props","useState","isLoading","setLoading","dataSource","setDataSource","userData","setUserData","modalVisible","setModalVisible","menu","setMenu","data","id","useEffect","fetch","route","params","item","story_id","then","response","json","res","console","log","catch","error","finally","author_id","flex","backgroundColor","style","container","image","uri","story_img","fontSize","marginTop","story_title","user_id","toString","author","navigation","navigate","avatar","user_avatar","marginLeft","username","flexDirection","alignItems","vote","parts","button","chapter_id","reading","readingText","addButton","description","story_description","openChapterList","color","story_status","centeredView","modalView","imageModal","titleModal","chapter","chapter_name","closeButtom","textStyle","StyleSheet","create","justifyContent","width","height","borderRadius","fontWeight","padding","margin","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","borderBottomWidth","borderTopWidth","textAlign","modalText","marginBottom","borderBottomColor"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { ScrollView, View, Text, Image, StyleSheet, TouchableOpacity, FlatList, Modal, TouchableHighlight, TouchableWithoutFeedback } from 'react-native';\nimport Icon from 'react-native-vector-icons/Ionicons'\n// import { TouchableWithoutFeedback } from 'react-native-gesture-handler';\n\nfunction DetailStoryScreen(props) {\n  const [isLoading, setLoading] = React.useState(false)\n  const [dataSource, setDataSource] = React.useState([]);\n  const [userData, setUserData] = React.useState([]);\n  const [modalVisible, setModalVisible] = React.useState(false);\n  const [menu, setMenu] = React.useState(false);\n  const data = [\n    {id:\"1\"}\n  ]\n\n  React.useEffect(() => {\n    // fetch('http://10.0.2.2:5000/')\n    fetch('http://192.168.1.8:19000/chapter/' + props.route.params.item.story_id)\n    .then ((response) => response.json())\n    .then ( (res) => { \n      console.log('kq:' + res); \n      setDataSource(res);\n    })\n    .catch ((error) => {\n      console.log(error);\n    })\n    .finally(() => {\n      setLoading(false) \n    });\n\n    fetch('http://192.168.1.8:19000/user/' + props.route.params.item.author_id)\n    .then ((response) => response.json())\n    .then ( (res) => { \n      console.log('user:' + res); \n      setUserData(res);\n    })\n    .catch ((error) => {\n      console.log(error);\n    })\n    .finally(() => {\n      setLoading(false) \n    });\n  });\n  \n  return (\n    <View style={{ flex: 1, backgroundColor: 'white'}}>    \n      <FlatList \n        showsVerticalScrollIndicator = {false}\n        data={data}\n        renderItem={(item) => (\n        <>\n          <View style={style.container}>\n            <TouchableOpacity>\n              <Image style={style.image}\n                  source={{uri: props.route.params.item.story_img}} \n              />\n            </TouchableOpacity>\n              <Text style={{fontSize: 30, marginTop: 10}}>{props.route.params.item.story_title}</Text>\n            <View>\n              <FlatList\n                data={userData}\n                keyExtractor= {item => item.user_id.toString()}\n                renderItem={({ item }) =>(\n                  <TouchableOpacity style={style.author} onPress={() => props.navigation.navigate('DetailUser', {user_id: item.user_id})}>\n                    <Image style={style.avatar}\n                        source={{uri: item.user_avatar}} \n                    />\n                    <Text style={{marginLeft: 5}}>@{item.username}</Text>\n                  </TouchableOpacity>\n                )}\n              />\n              <View style={{flexDirection: 'row', alignItems: 'center'}}>\n                <Icon name='ios-star' size={14}/>\n                <Text style={{marginLeft: 5}}> \n                  {props.route.params.item.vote} Votes</Text>\n                <Icon name='ios-list' size={14} style={{marginLeft: 10}}/>\n                <Text style={{marginLeft: 5}}>\n                  {props.route.params.item.parts} Parts</Text>\n              </View>\n            </View>\n          </View>\n          <View style={style.button}>\n              <TouchableOpacity onPress={() => props.navigation.navigate('Reading', {chapter_id: 1, item: props.route.params.item})}>\n                <View style={style.reading}>\n                  <Text style={style.readingText}>Reading</Text>\n                </View>\n              </TouchableOpacity>\n              <TouchableOpacity>\n                  <View>\n                    <Icon name='ios-add-circle-outline' style={style.addButton}/>\n                  </View>\n              </TouchableOpacity>\n          </View>\n          <View style={style.description}>\n              <Text style={{fontSize: 16}}>{props.route.params.item.story_description}</Text>\n          </View>\n          <View>\n            <TouchableOpacity      \n              onPress={() => {\n                setModalVisible(true);\n              }}\n              style={style.parts}\n            >\n                <Text style={style.openChapterList}>Chapter of storys</Text>\n                <Text style={{color: '#ff9200'}}>{props.route.params.item.story_status}</Text>\n            </TouchableOpacity>  \n            <TouchableWithoutFeedback onPress={() => setModalVisible(!modalVisible)}>\n              <Modal\n                animationType=\"slide\"\n                transparent={true}\n                visible={modalVisible}\n                onRequestClose={() => {setModalVisible(!modalVisible);}}\n              >\n                <View style={style.centeredView}>\n                  <View style={style.modalView}>\n                    <FlatList\n                      data={data}\n                      renderItem={(item) => (\n                        <>\n                          <View style={{alignItems: \"center\"}}>\n                            <Image style={style.imageModal}\n                                source={{uri: props.route.params.item.story_img}} \n                            />\n                            <Text style={style.titleModal} numberOfLines={2}>{props.route.params.item.story_title}</Text>\n                          </View>\n                          <FlatList\n                            data={dataSource}\n                            keyExtractor= {item => item.chapter_id.toString()}\n                            renderItem={({ item }) => (\n                              <TouchableOpacity \n                                onPress={() => props.navigation.navigate('Reading', {chapter_id: item.chapter_id, item: item}, \n                                  setModalVisible(!modalVisible)\n                                )} style={style.chapter}>         \n                                  <Text numberOfLines={1}>{item.chapter_name}</Text>\n                              </TouchableOpacity>\n                            )}\n                            showsHorizontalScrollIndicator={false}\n                          />\n                        </>\n                      )}\n                    />\n                    <TouchableOpacity\n                      style={style.closeButtom}\n                      onPress={() => {\n                        setModalVisible(!modalVisible);\n                      }}\n                    >\n                      <Text style={style.textStyle}>Hide chapter list</Text>\n                    </TouchableOpacity>\n                  </View>\n                </View>\n              </Modal> \n            </TouchableWithoutFeedback>\n          </View>\n       </>\n      )}\n      />\n    </View>\n  );\n}\nexport {DetailStoryScreen};\n\nconst style = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: 30,\n  },\n  image: {\n    width: 150,\n    height: 200\n  },\n  author: {\n    flexDirection: 'row', \n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  avatar: {\n    height: 30,\n    width: 30,\n    borderRadius: 50\n  },\n  button: {\n    marginTop: 10, \n    flexDirection: 'row', \n    justifyContent: 'center', \n    alignItems: 'center'\n  },\n  reading: {\n    height: 40, width: 200, \n    backgroundColor: '#aa4fff', \n    borderRadius: 40, \n    justifyContent: 'center', \n    alignItems: 'center'\n  },\n  readingText: {\n    marginLeft: 5, \n    fontWeight: 'bold', \n    fontSize: 20, \n    color: 'white' \n  },\n  addButton: {\n    color: '#aa4fff', \n    fontSize: 40, \n    marginLeft: 5\n  },\n  description: {\n    padding: 20,\n  },\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 22\n  },\n  modalView: {\n    margin: 10,\n    backgroundColor: \"white\",\n    borderRadius: 20,\n    padding: 10,\n    width: '80%',\n    height: '90%',\n    //alignItems: \"center\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  parts: {\n    padding: 10,\n    borderBottomWidth: 0.5,\n    borderTopWidth: 0.5,\n  },\n  openChapterList: {\n    fontSize: 18,\n    color: '#aa4fff',\n    fontWeight: 'bold'\n  },\n  textStyle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  modalText: {\n    marginBottom: 15,\n    textAlign: \"center\"\n  },\n  imageModal: {\n    width: 150,\n    height: 200,\n    marginTop: 20,\n  },\n  titleModal: {\n    fontSize: 15, \n    fontWeight: 'bold', \n    marginTop: 10, \n    marginBottom: 10\n  },\n  chapter: {\n    padding: 10,\n    borderBottomWidth: 0.5,\n    borderBottomColor: 'grey'\n  },\n  closeButtom: {\n    backgroundColor: \"#aa4fff\",\n    borderRadius: 20,\n    padding: 10,\n    elevation: 2,\n  }\n}) "]},"metadata":{},"sourceType":"module"}