{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\QQBimApp\\\\QQBimApp\\\\src\\\\users\\\\ScreemFolder\\\\StoryScreen\\\\ListChapterScreen.js\";\nimport * as React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport { SplashScreen } from \"../OtherScreen\";\nimport { DetailStoryScreen } from \"./DetailStoryScreen\";\nimport { Ionicons } from '@expo/vector-icons';\n\nfunction ListChapterScreen(props) {\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      dataSource = _React$useState2[0],\n      setDataSource = _React$useState2[1];\n\n  var _React$useState3 = React.useState(true),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      isLoading = _React$useState4[0],\n      setLoading = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      modalVisible = _React$useState6[0],\n      setModalVisible = _React$useState6[1];\n\n  var story_id = props.route.params.item.story_id;\n\n  var _React$useState7 = React.useState([]),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      story = _React$useState8[0],\n      setStory = _React$useState8[1];\n\n  var data = [{\n    id: \"1\"\n  }];\n  React.useEffect(function () {\n    fetch('http://192.168.0.101:19000/chapter/' + story_id).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      setDataSource(res);\n    }).catch(function (error) {\n      console.log(error);\n    }).finally(function () {\n      setLoading(false);\n    });\n  }, []);\n\n  function deleteChapter() {\n    Alert.alert(\"Do you want to delete your story's chapter?\", \"If you choose OK, story's chapter will delete forever.\", [{\n      text: \"Cancel\",\n      onPress: function onPress() {\n        return console.log(\"Cancel Pressed\");\n      },\n      style: \"cancel\"\n    }, {\n      text: \"OK\",\n      onPress: function onPress() {\n        fetch('http://192.168.0.101:19000/delete_chapter/' + story.story_id + '/' + story.chapter_id).then(function (response) {\n          return response.json();\n        }).then(function (res) {\n          console.log('kq:' + res);\n        }).catch(function (error) {\n          console.log(error);\n        }).finally(function () {\n          setLoading(false);\n          setModalVisible(false);\n        });\n      }\n    }], {\n      cancelable: false\n    });\n  }\n\n  ;\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      backgroundColor: 'white'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, isLoading ? React.createElement(SplashScreen, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 18\n    }\n  }) : React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, React.createElement(FlatList, {\n    data: data,\n    renderItem: function renderItem(item) {\n      return React.createElement(React.Fragment, null, React.createElement(View, {\n        style: {\n          alignItems: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }\n      }, React.createElement(Image, {\n        style: style.imageModal,\n        source: {\n          uri: props.route.params.item.story_img\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }\n      }), React.createElement(Text, {\n        style: style.title,\n        numberOfLines: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }\n      }, props.route.params.item.story_title), React.createElement(TouchableOpacity, {\n        style: style.createBotton,\n        onPress: function onPress() {\n          props.navigation.navigate('NewPart', {\n            story_id: props.route.params.item.story_id\n          });\n          setModalVisible(false);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: 'white',\n          fontWeight: 'bold',\n          fontSize: 18\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 25\n        }\n      }, \"Create new chapter\"))), React.createElement(FlatList, {\n        data: dataSource,\n        keyExtractor: function keyExtractor(item) {\n          return item.chapter_id.toString();\n        },\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item;\n          return React.createElement(TouchableOpacity, {\n            onPress: function onPress() {\n              setModalVisible(!modalVisible), setStory(item);\n            },\n            style: style.chapter,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 21\n            }\n          }, React.createElement(Image, {\n            source: require(\"../../Images/readingList.jpg\"),\n            style: style.imgList,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 25\n            }\n          }), React.createElement(Text, {\n            numberOfLines: 1,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 25\n            }\n          }, item.chapter_name));\n        },\n        showsHorizontalScrollIndicator: false,\n        ListEmptyComponent: ListEmpty,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }\n      }), React.createElement(Modal, {\n        animationType: \"slide\",\n        transparent: true,\n        visible: modalVisible,\n        onRequestClose: function onRequestClose() {\n          setModalVisible(!modalVisible);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: style.centeredView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }\n      }, React.createElement(View, {\n        style: style.modalView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: style.modalbutton,\n        onPress: function onPress() {\n          props.navigation.navigate('EditPart', {\n            item: story\n          });\n          setModalVisible(false);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 29\n        }\n      }, \"Edit Chapter\")), React.createElement(TouchableOpacity, {\n        style: style.modalbutton,\n        onPress: function onPress() {\n          deleteChapter();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 29\n        }\n      }, \"Delete Chapter\")), React.createElement(TouchableOpacity, {\n        style: {\n          marginTop: 10,\n          alignItems: 'center'\n        },\n        onPress: function onPress() {\n          setModalVisible(!modalVisible);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 25\n        }\n      }, React.createElement(Ionicons, {\n        name: \"ios-close-circle-outline\",\n        size: 50,\n        color: \"#aa4fff\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 25\n        }\n      }))))));\n    },\n    ListEmptyComponent: ListEmpty,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  })));\n\n  function ListEmpty() {\n    return React.createElement(View, {\n      style: style.MainContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 7\n      }\n    }, React.createElement(View, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: {\n        fontSize: 20,\n        color: 'black',\n        marginTop: 20,\n        marginBottom: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }\n    }, \"You don't have any chapter\")));\n  }\n\n  ;\n}\n\nexport { ListChapterScreen };\nvar style = StyleSheet.create({\n  MainContainer: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    flex: 1,\n    margin: 10\n  },\n  imageModal: {\n    width: 150,\n    height: 200,\n    marginTop: 20\n  },\n  createBotton: {\n    borderRadius: 40,\n    backgroundColor: '#aa4fff',\n    padding: 10,\n    marginTop: 10\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginTop: 10,\n    marginBottom: 10\n  },\n  chapter: {\n    padding: 5,\n    flexDirection: 'row',\n    borderBottomWidth: 0.5,\n    alignItems: 'center',\n    borderBottomColor: 'grey'\n  },\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 22\n  },\n  modalView: {\n    margin: 20,\n    width: Dimensions.get('window').width * 0.7,\n    backgroundColor: \"white\",\n    borderRadius: 20,\n    padding: 10,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  openButton: {\n    backgroundColor: \"#F194FF\",\n    borderRadius: 20,\n    padding: 10,\n    elevation: 2\n  },\n  modalbutton: {\n    padding: 10,\n    borderBottomWidth: 1\n  },\n  imgList: {\n    width: 40,\n    height: 40\n  }\n});","map":{"version":3,"sources":["D:/QQBimApp/QQBimApp/src/users/ScreemFolder/StoryScreen/ListChapterScreen.js"],"names":["React","SplashScreen","DetailStoryScreen","Ionicons","ListChapterScreen","props","useState","dataSource","setDataSource","isLoading","setLoading","modalVisible","setModalVisible","story_id","route","params","item","story","setStory","data","id","useEffect","fetch","then","response","json","res","catch","error","console","log","finally","deleteChapter","Alert","alert","text","onPress","style","chapter_id","cancelable","flex","backgroundColor","alignItems","imageModal","uri","story_img","title","story_title","createBotton","navigation","navigate","color","fontWeight","fontSize","toString","chapter","require","imgList","chapter_name","ListEmpty","centeredView","modalView","modalbutton","marginTop","MainContainer","marginBottom","StyleSheet","create","justifyContent","margin","width","height","borderRadius","padding","flexDirection","borderBottomWidth","borderBottomColor","Dimensions","get","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","openButton"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport { \r\n  View, \r\n  FlatList,\r\n  TouchableOpacity, \r\n  Text,\r\n  StyleSheet,\r\n  Image,\r\n  Dimensions,\r\n  Alert,\r\n  Modal\r\n} from 'react-native';\r\nimport {SplashScreen} from '../OtherScreen';\r\nimport { DetailStoryScreen } from './DetailStoryScreen';\r\nimport { Ionicons } from '@expo/vector-icons'; \r\n\r\nfunction ListChapterScreen(props) {\r\n  const [dataSource, setDataSource ]= React.useState([]);\r\n  const [isLoading, setLoading] = React.useState(true);\r\n  const [modalVisible, setModalVisible] = React.useState(false);\r\n  const story_id = props.route.params.item.story_id;\r\n  const [story, setStory] = React.useState([]);\r\n  const data = [\r\n    {id:\"1\"}\r\n  ]\r\n\r\n  React.useEffect(() => {\r\n    // fetch('http://10.0.2.2:5000/')\r\n    fetch('http://192.168.0.101:19000/chapter/' + story_id)\r\n    .then ((response) => response.json())\r\n    .then ( (res) => { \r\n      setDataSource(res);\r\n    })\r\n    .catch ((error) => {\r\n      console.log(error);\r\n    })\r\n    .finally(() => {\r\n      setLoading(false) \r\n    });\r\n  }, []);\r\n\r\n  function deleteChapter() {\r\n    Alert.alert(\r\n      \"Do you want to delete your story's chapter?\",\r\n      \"If you choose OK, story's chapter will delete forever.\",\r\n      [\r\n        {\r\n          text: \"Cancel\",\r\n          onPress: () => console.log(\"Cancel Pressed\"),\r\n          style: \"cancel\"\r\n        },\r\n        { text: \"OK\", onPress: () => {\r\n          fetch('http://192.168.0.101:19000/delete_chapter/' + story.story_id + '/' + story.chapter_id)\r\n          .then ((response) => response.json())\r\n          .then ( (res) => { \r\n            console.log('kq:' + res); \r\n          })\r\n          .catch ((error) => {\r\n            console.log(error);\r\n          })\r\n          .finally(() => {\r\n            setLoading(false);\r\n            setModalVisible(false);\r\n          });\r\n        } }\r\n      ],\r\n      { cancelable: false }\r\n    ); \r\n  };\r\n\r\n  return (\r\n    <View style={{ flex: 1, backgroundColor: 'white'}}>\r\n    {isLoading ? <SplashScreen/> : (\r\n      <View>\r\n        <FlatList\r\n            data={data}\r\n            renderItem={(item) => (\r\n                <>\r\n                <View style={{alignItems: \"center\"}}>\r\n                    <Image style={style.imageModal}\r\n                        source={{uri: props.route.params.item.story_img}} \r\n                    />\r\n                    <Text style={style.title} numberOfLines={2}>{props.route.params.item.story_title}</Text>\r\n                    <TouchableOpacity style={style.createBotton} onPress={() => {props.navigation.navigate('NewPart', {story_id: props.route.params.item.story_id}); setModalVisible(false)}}>\r\n                        <Text style={{color:'white', fontWeight: 'bold', fontSize: 18}}>Create new chapter</Text>\r\n                    </TouchableOpacity>\r\n                </View>\r\n                <FlatList\r\n                    data={dataSource}\r\n                    keyExtractor= {item => item.chapter_id.toString()}\r\n                    renderItem={({ item }) => (\r\n                    <TouchableOpacity onPress={() => {setModalVisible(!modalVisible), setStory(item);}} style={style.chapter}> \r\n                        <Image \r\n                          source={require(\"../../Images/readingList.jpg\")}\r\n                          style={style.imgList}\r\n                        />        \r\n                        <Text numberOfLines={1}>{item.chapter_name}</Text>\r\n                    </TouchableOpacity>\r\n                    )}\r\n                    showsHorizontalScrollIndicator={false}\r\n                    ListEmptyComponent={ListEmpty}\r\n                />\r\n                <Modal\r\n                    animationType=\"slide\"\r\n                    transparent={true}\r\n                    visible={modalVisible}\r\n                    onRequestClose={() => {setModalVisible(!modalVisible);}}\r\n                >\r\n                    <View style={style.centeredView}>\r\n                    <View style={style.modalView}>\r\n                        <TouchableOpacity style={style.modalbutton} onPress={() => {props.navigation.navigate('EditPart', {item: story}); setModalVisible(false)}}>\r\n                            <Text>Edit Chapter</Text>\r\n                        </TouchableOpacity>\r\n                        <TouchableOpacity style={style.modalbutton} onPress={()=> {deleteChapter();}}>\r\n                            <Text>Delete Chapter</Text>\r\n                        </TouchableOpacity>\r\n                        <TouchableOpacity\r\n                            style={{marginTop: 10, alignItems: 'center'}}\r\n                            onPress={() => {\r\n                                setModalVisible(!modalVisible);\r\n                            }}\r\n                        >\r\n                        <Ionicons name=\"ios-close-circle-outline\" size={50} color=\"#aa4fff\" />\r\n                        </TouchableOpacity>\r\n                    </View>\r\n                    </View>\r\n                </Modal>  \r\n                </>\r\n            )}\r\n            ListEmptyComponent={ListEmpty}\r\n        />\r\n      </View>\r\n    )}\r\n  </View>\r\n  );\r\n\r\n  function ListEmpty() {\r\n    return (\r\n      //View to show when list is empty\r\n      <View style={style.MainContainer}>  \r\n          <View>\r\n            <Text style={{fontSize: 20, color: 'black', marginTop: 20, marginBottom: 20}}>You don't have any chapter</Text>\r\n          </View>\r\n      </View>\r\n    );\r\n  }; \r\n}\r\nexport {ListChapterScreen}\r\n\r\nvar style = StyleSheet.create({\r\n    MainContainer: {\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        flex: 1,\r\n        margin: 10,\r\n    },\r\n    imageModal: {\r\n        width: 150,\r\n        height: 200,\r\n        marginTop: 20,\r\n    },\r\n    createBotton: {\r\n        borderRadius: 40,\r\n        backgroundColor: '#aa4fff',\r\n        padding: 10,\r\n        marginTop: 10\r\n    },\r\n    title: {\r\n        fontSize: 20, \r\n        fontWeight: 'bold', \r\n        marginTop: 10, \r\n        marginBottom: 10\r\n    },\r\n    chapter: {\r\n        padding: 5,\r\n        flexDirection: 'row',        \r\n        borderBottomWidth: 0.5,\r\n        alignItems: 'center',\r\n        borderBottomColor: 'grey'\r\n    },\r\n    centeredView: {\r\n      flex: 1,\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n      marginTop: 22\r\n    },\r\n    modalView: {\r\n      margin: 20,\r\n      width: Dimensions.get('window').width *0.7,\r\n      backgroundColor: \"white\",\r\n      borderRadius: 20,\r\n      padding: 10,\r\n  \r\n      shadowColor: \"#000\",\r\n      shadowOffset: {\r\n        width: 0,\r\n        height: 2\r\n      },\r\n      shadowOpacity: 0.25,\r\n      shadowRadius: 3.84,\r\n      elevation: 5\r\n    },\r\n    openButton: {\r\n      backgroundColor: \"#F194FF\",\r\n      borderRadius: 20,\r\n      padding: 10,\r\n      elevation: 2\r\n    },\r\n    modalbutton: {\r\n      padding: 10,\r\n      borderBottomWidth: 1,\r\n    },\r\n    imgList: {\r\n      width: 40, \r\n      height: 40,\r\n    },\r\n})\r\n\r\n"]},"metadata":{},"sourceType":"module"}