{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\QQBimApp\\\\QQBimApp\\\\src\\\\admin\\\\chapterContent.js\";\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ToastAndroid from \"react-native-web/dist/exports/ToastAndroid\";\nimport { SplashScreen } from \"../users/ScreemFolder/OtherScreen\";\nimport { MaterialCommunityIcons, Ionicons, AntDesign } from '@expo/vector-icons';\n\nfunction chapterContent(props) {\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      modalVisible = _React$useState2[0],\n      setModalVisible = _React$useState2[1];\n\n  var _React$useState3 = React.useState([]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      dataSource = _React$useState4[0],\n      setDataSource = _React$useState4[1];\n\n  var sendWarning = function sendWarning() {\n    Alert.alert(\"Do you want to send warning for this story?\", \"If you choose OK, story's warning times will update. If warning times over three time the account can be deleted.\", [{\n      text: \"Cancel\",\n      onPress: function onPress() {\n        return console.log(\"Cancel Pressed\");\n      },\n      style: \"cancel\"\n    }, {\n      text: \"OK\",\n      onPress: function onPress() {\n        fetch('http://192.168.0.102:19000/warning_email', {\n          method: 'POST',\n          headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            'user_email': props.route.params.story.user_email,\n            'story_id': props.route.params.story.story_id,\n            'story_title': props.route.params.story.story_title,\n            'warning_times': props.route.params.warning_times + 1,\n            'status': 'Done',\n            'report_id': props.route.params.item.report_id\n          })\n        }).then(function (response) {\n          return response.json();\n        }).then(function (res) {\n          ToastAndroid.show(\"Send warning  sucucess!\", ToastAndroid.SHORT);\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    }], {\n      cancelable: false\n    });\n  };\n\n  var getChapter = function getChapter() {\n    fetch('http://192.168.0.102:19000/chapter/' + props.route.params.item.story_id).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      setDataSource(res);\n    }).catch(function (error) {\n      console.log(error);\n    }).finally(function () {\n      setLoading(false);\n    });\n  };\n\n  var deleteStory = function deleteStory() {\n    Alert.alert(\"Do you want to delete this story?\", \"If you choose OK, the story will delete forever on this app.\", [{\n      text: \"Cancel\",\n      onPress: function onPress() {\n        return console.log(\"Cancel Pressed\");\n      },\n      style: \"cancel\"\n    }, {\n      text: \"OK\",\n      onPress: function onPress() {\n        fetch('http://192.168.0.102:19000/delete_story', {\n          method: 'POST',\n          headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            'user_email': props.route.params.story.user_email,\n            'story_id': props.route.params.story.story_id,\n            'story_title': props.route.params.story.story_title\n          })\n        }).then(function (response) {\n          return response.json();\n        }).then(function (res) {\n          ToastAndroid.show(\"Delete story  sucucess!\", ToastAndroid.SHORT);\n          props.navigation.navigate('homeAdmin');\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    }], {\n      cancelable: false\n    });\n  };\n\n  var deleteAccount = function deleteAccount() {\n    Alert.alert(\"Do you want to delete this account?\", \"If you choose OK, the account will delete forever in this app.\", [{\n      text: \"Cancel\",\n      onPress: function onPress() {\n        return console.log(\"Cancel Pressed\");\n      },\n      style: \"cancel\"\n    }, {\n      text: \"OK\",\n      onPress: function onPress() {\n        fetch('http://192.168.0.102:19000/delete_account', {\n          method: 'POST',\n          headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            'user_email': props.route.params.story.user_email,\n            'story_id': props.route.params.story.story_id,\n            'story_title': props.route.params.story.story_title,\n            'user_id': props.route.params.story.author_id\n          })\n        }).then(function (response) {\n          return response.json();\n        }).then(function (res) {\n          ToastAndroid.show(\"Delete account  sucucess!\", ToastAndroid.SHORT);\n          props.navigation.navigate('homeAdmin');\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    }], {\n      cancelable: false\n    });\n  };\n\n  var pass = function pass() {\n    Alert.alert(\"Do you want to pass this report?\", \"Make sure your decision is in line with the rules.\", [{\n      text: \"Cancel\",\n      onPress: function onPress() {\n        return console.log(\"Cancel Pressed\");\n      },\n      style: \"cancel\"\n    }, {\n      text: \"OK\",\n      onPress: function onPress() {\n        fetch('http://192.168.0.102:19000/pass_report', {\n          method: 'POST',\n          headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            'status': 'Done',\n            'report_id': props.route.params.item.report_id\n          })\n        }).then(function (response) {\n          return response.json();\n        }).then(function (res) {\n          getWarning();\n          showToast();\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    }], {\n      cancelable: false\n    });\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 5\n    }\n  }, React.createElement(View, _extends({\n    style: {\n      flex: -2,\n      backgroundColor: '#8a2be2',\n      height: 80,\n      width: '100%',\n      justifyContent: 'center',\n      alignItems: 'center'\n    }\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    style: {\n      marginTop: 20,\n      flexDirection: 'row',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      props.navigation.goBack();\n      props.navigation.dangerouslyGetParent().setOptions({\n        tabBarVisible: true\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 17\n    }\n  }, React.createElement(AntDesign, {\n    name: \"left\",\n    size: 24,\n    color: \"white\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 21\n    }\n  }))), React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      justifyContent: 'flex-end',\n      alignItems: 'flex-end'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: {\n      flex: 1\n    },\n    onPress: function onPress() {\n      getChapter();\n      setModalVisible(true);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 17\n    }\n  }, React.createElement(Ionicons, {\n    name: \"md-menu\",\n    size: 40,\n    color: 'white',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 21\n    }\n  })))), React.createElement(Modal, {\n    animationType: \"slide\",\n    transparent: true,\n    visible: modalVisible,\n    onRequestClose: function onRequestClose() {\n      setModalVisible(!modalVisible);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: style.centeredView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: style.modalView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }\n  }, React.createElement(FlatList, {\n    data: dataSource,\n    keyExtractor: function keyExtractor(item) {\n      return item.chapter_id.toString();\n    },\n    ListHeaderComponent: headerComponent,\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item;\n      return React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return props.navigation.navigate('chapterContent', {\n            item: item,\n            story: props.route.params.story,\n            warning_times: props.route.params.warningTimes\n          }, setModalVisible(!modalVisible));\n        },\n        style: style.chapter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        numberOfLines: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 25\n        }\n      }, item.chapter_name));\n    },\n    showsHorizontalScrollIndicator: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 17\n    }\n  }), React.createElement(TouchableOpacity, {\n    style: style.closeButtom,\n    onPress: function onPress() {\n      setModalVisible(!modalVisible);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: style.textStyle2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 17\n    }\n  }, \"Hide chapter list\")))))), React.createElement(ScrollView, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: {\n      padding: 20,\n      fontSize: 15,\n      textAlign: 'justify'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 13\n    }\n  }, props.route.params.item.chapter_content)), React.createElement(View, {\n    style: styles.tabView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.tabContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 13\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return sendWarning();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 15\n    }\n  }, React.createElement(AntDesign, {\n    name: \"warning\",\n    size: 24,\n    color: \"black\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 19\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return deleteStory();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 15\n    }\n  }, React.createElement(AntDesign, {\n    name: \"delete\",\n    size: 24,\n    color: \"black\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 19\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return deleteAccount();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 15\n    }\n  }, React.createElement(MaterialCommunityIcons, {\n    name: \"account-remove-outline\",\n    size: 24,\n    color: \"black\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 19\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return pass();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 15\n    }\n  }, React.createElement(AntDesign, {\n    name: \"check\",\n    size: 24,\n    color: \"black\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 18\n    }\n  })))));\n\n  function headerComponent() {\n    return React.createElement(View, {\n      style: {\n        alignItems: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }\n    }, React.createElement(Image, {\n      style: style.imageModal,\n      source: {\n        uri: props.route.params.story.story_img\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 13\n      }\n    }), React.createElement(Text, {\n      style: style.titleModal,\n      numberOfLines: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 13\n      }\n    }, props.route.params.story.story_title));\n  }\n}\n\nexport { chapterContent };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'column',\n    alignItems: 'center',\n    borderColor: '#8a2be2'\n  },\n  tabView: {\n    justifyContent: 'flex-end',\n    backgroundColor: '#aa4fff',\n    width: '100%',\n    height: 40,\n    paddingRight: 5\n  },\n  tabContainer: {\n    flex: 1,\n    height: 40,\n    width: Dimensions.get('window').width,\n    backgroundColor: 'white',\n    alignItems: 'center',\n    justifyContent: 'space-around',\n    flexDirection: 'row'\n  }\n});\nvar style = StyleSheet.create({\n  parts: {\n    padding: 10,\n    borderBottomWidth: 0.5,\n    borderTopWidth: 0.5\n  },\n  openChapterList: {\n    fontSize: 18,\n    color: '#aa4fff',\n    fontWeight: 'bold'\n  },\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 22\n  },\n  textStyle2: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  modalView: {\n    margin: 10,\n    backgroundColor: \"white\",\n    borderRadius: 20,\n    padding: 10,\n    width: '80%',\n    height: '90%',\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  centeredView2: {\n    flex: 1,\n    alignItems: \"center\",\n    marginTop: 22\n  },\n  modalView2: {\n    margin: 10,\n    backgroundColor: \"white\",\n    width: '80%',\n    height: 200,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  textStyle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  modalText: {\n    marginBottom: 15,\n    textAlign: \"center\"\n  },\n  imageModal: {\n    width: 150,\n    height: 200,\n    marginTop: 20\n  },\n  titleModal: {\n    fontSize: 15,\n    fontWeight: 'bold',\n    marginTop: 10,\n    marginBottom: 10\n  },\n  chapter: {\n    padding: 10,\n    borderBottomWidth: 0.5,\n    borderBottomColor: 'grey'\n  },\n  closeButtom: {\n    backgroundColor: \"#ba68c8\",\n    borderRadius: 20,\n    padding: 10,\n    elevation: 2\n  },\n  background: {\n    width: 40,\n    height: 40,\n    borderWidth: 1,\n    margin: 10\n  }\n});","map":{"version":3,"sources":["D:/QQBimApp/QQBimApp/src/admin/chapterContent.js"],"names":["React","SplashScreen","MaterialCommunityIcons","Ionicons","AntDesign","chapterContent","props","useState","modalVisible","setModalVisible","dataSource","setDataSource","sendWarning","Alert","alert","text","onPress","console","log","style","fetch","method","headers","Accept","body","JSON","stringify","route","params","story","user_email","story_id","story_title","warning_times","item","report_id","then","response","json","res","ToastAndroid","show","SHORT","catch","error","cancelable","getChapter","finally","setLoading","deleteStory","navigation","navigate","deleteAccount","author_id","pass","getWarning","showToast","styles","container","flex","backgroundColor","height","width","justifyContent","alignItems","marginTop","flexDirection","goBack","dangerouslyGetParent","setOptions","tabBarVisible","centeredView","modalView","chapter_id","toString","headerComponent","warningTimes","chapter","chapter_name","closeButtom","textStyle2","padding","fontSize","textAlign","chapter_content","tabView","tabContainer","imageModal","uri","story_img","titleModal","StyleSheet","create","borderColor","paddingRight","Dimensions","get","parts","borderBottomWidth","borderTopWidth","openChapterList","color","fontWeight","margin","borderRadius","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","centeredView2","modalView2","textStyle","modalText","marginBottom","borderBottomColor","background","borderWidth"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { StyleSheet, Dimensions, View, TouchableOpacity, Text, Alert, ScrollView, Modal, Image, FlatList, ToastAndroid} from 'react-native';\r\nimport {SplashScreen} from '../users/ScreemFolder/OtherScreen';\r\nimport { MaterialCommunityIcons,Ionicons, AntDesign} from '@expo/vector-icons';\r\n\r\nfunction chapterContent(props) {\r\n  const [modalVisible, setModalVisible] = React.useState(false);\r\n  const [dataSource, setDataSource ]= React.useState([]);\r\n\r\n  const sendWarning=()=> {\r\n    Alert.alert(\r\n      \"Do you want to send warning for this story?\",\r\n      \"If you choose OK, story's warning times will update. If warning times over three time the account can be deleted.\",\r\n      [\r\n        {\r\n          text: \"Cancel\",\r\n          onPress: () => console.log(\"Cancel Pressed\"),\r\n          style: \"cancel\"\r\n        },\r\n        { text: \"OK\", onPress: () => {\r\n          fetch('http://192.168.0.102:19000/warning_email', {\r\n            method: 'POST',\r\n            headers: {\r\n                Accept: 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                'user_email': props.route.params.story.user_email,\r\n                'story_id': props.route.params.story.story_id,\r\n                'story_title': props.route.params.story.story_title,\r\n                'warning_times': props.route.params.warning_times + 1,\r\n                'status': 'Done',\r\n                'report_id': props.route.params.item.report_id\r\n            })\r\n            })\r\n            .then ((response) => response.json())\r\n            .then ( (res) => { \r\n                ToastAndroid.show(\"Send warning  sucucess!\", ToastAndroid.SHORT);\r\n            })\r\n            .catch ((error) => {\r\n                console.log(error);\r\n          })\r\n        } }\r\n      ],\r\n      { cancelable: false }\r\n    ); \r\n  }\r\n\r\n  const getChapter=() => {\r\n    // fetch('http://10.0.2.2:5000/')\r\n    fetch('http://192.168.0.102:19000/chapter/' + props.route.params.item.story_id)\r\n    .then ((response) => response.json())\r\n    .then ( (res) => { \r\n      setDataSource(res);\r\n    })\r\n    .catch ((error) => {\r\n      console.log(error);\r\n    })\r\n    .finally(() => {\r\n      setLoading(false) \r\n    });\r\n  }\r\n\r\n  const deleteStory=()=> {\r\n    Alert.alert(\r\n      \"Do you want to delete this story?\",\r\n      \"If you choose OK, the story will delete forever on this app.\",\r\n      [\r\n        {\r\n          text: \"Cancel\",\r\n          onPress: () => console.log(\"Cancel Pressed\"),\r\n          style: \"cancel\"\r\n        },\r\n        { text: \"OK\", onPress: () => {\r\n          fetch('http://192.168.0.102:19000/delete_story', {\r\n            method: 'POST',\r\n            headers: {\r\n                Accept: 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n              'user_email': props.route.params.story.user_email,\r\n              'story_id': props.route.params.story.story_id,\r\n              'story_title': props.route.params.story.story_title,\r\n            })\r\n            })\r\n            .then ((response) => response.json())\r\n            .then ( (res) => { \r\n              ToastAndroid.show(\"Delete story  sucucess!\", ToastAndroid.SHORT);\r\n              props.navigation.navigate('homeAdmin')\r\n            })\r\n            .catch ((error) => {\r\n                console.log(error);\r\n          })\r\n        } }\r\n      ],\r\n      { cancelable: false }\r\n    );\r\n  }\r\n  const deleteAccount=()=> {\r\n    Alert.alert(\r\n      \"Do you want to delete this account?\",\r\n      \"If you choose OK, the account will delete forever in this app.\",\r\n      [\r\n        {\r\n          text: \"Cancel\",\r\n          onPress: () => console.log(\"Cancel Pressed\"),\r\n          style: \"cancel\"\r\n        },\r\n        { text: \"OK\", onPress: () => {\r\n          fetch('http://192.168.0.102:19000/delete_account', {\r\n            method: 'POST',\r\n            headers: {\r\n                Accept: 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                'user_email': props.route.params.story.user_email,\r\n                'story_id': props.route.params.story.story_id,\r\n                'story_title': props.route.params.story.story_title,\r\n                'user_id': props.route.params.story.author_id,\r\n            })\r\n            })\r\n            .then ((response) => response.json())\r\n            .then ( (res) => { \r\n                ToastAndroid.show(\"Delete account  sucucess!\", ToastAndroid.SHORT);\r\n                props.navigation.navigate('homeAdmin')\r\n            })\r\n            .catch ((error) => {\r\n                console.log(error);\r\n          })\r\n        } }\r\n      ],\r\n      { cancelable: false }\r\n    );\r\n  }\r\n\r\n  const pass=()=> {\r\n    Alert.alert(\r\n      \"Do you want to pass this report?\",\r\n      \"Make sure your decision is in line with the rules.\",\r\n      [\r\n        {\r\n          text: \"Cancel\",\r\n          onPress: () => console.log(\"Cancel Pressed\"),\r\n          style: \"cancel\"\r\n        },\r\n        { text: \"OK\", onPress: () => {\r\n          fetch('http://192.168.0.102:19000/pass_report', {\r\n            method: 'POST',\r\n            headers: {\r\n                Accept: 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                'status': 'Done',\r\n                'report_id': props.route.params.item.report_id\r\n            })\r\n            })\r\n            .then ((response) => response.json())\r\n            .then ( (res) => { \r\n                getWarning();\r\n                showToast();\r\n            })\r\n            .catch ((error) => {\r\n                console.log(error);\r\n          })\r\n        } }\r\n      ],\r\n      { cancelable: false }\r\n    ); \r\n  } \r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={{ flex: -2, backgroundColor: '#8a2be2', height: 80, width: '100%', justifyContent: 'center', alignItems: 'center'}} {...props}>\r\n        <View style={{marginTop: 20, flexDirection: 'row', justifyContent: 'center', alignItems: 'center'}}>\r\n            <View style={{flex: 1}}>\r\n                <TouchableOpacity onPress={() => {\r\n                    props.navigation.goBack(); \r\n                    props.navigation.dangerouslyGetParent().setOptions({\r\n                     tabBarVisible: true\r\n                    });\r\n                }}>\r\n                    <AntDesign name=\"left\" size={24} color=\"white\" />\r\n                </TouchableOpacity>\r\n            </View>\r\n            <View style={{flexDirection: 'row', justifyContent: 'flex-end', alignItems: 'flex-end'}} >\r\n                <TouchableOpacity style={{flex:1}} onPress={() => {\r\n                    getChapter();\r\n                    setModalVisible(true);\r\n                }}>\r\n                    <Ionicons name='md-menu' size={40} color={'white'}/>\r\n                </TouchableOpacity>\r\n            </View>\r\n        </View>\r\n        <Modal\r\n            animationType=\"slide\"\r\n            transparent={true}\r\n            visible={modalVisible}\r\n            onRequestClose={() => {setModalVisible(!modalVisible);}}\r\n        >\r\n            <View style={style.centeredView}>\r\n            <View style={style.modalView}>\r\n                <FlatList\r\n                    data={dataSource}\r\n                    keyExtractor= {item => item.chapter_id.toString()}\r\n                    ListHeaderComponent={headerComponent}\r\n                    renderItem={({ item }) => (\r\n                    <TouchableOpacity \r\n                        onPress={() => props.navigation.navigate('chapterContent', {item: item, story: props.route.params.story, warning_times: props.route.params.warningTimes}, \r\n                        setModalVisible(!modalVisible)\r\n                        )} style={style.chapter}>         \r\n                        <Text numberOfLines={1}>{item.chapter_name}</Text>\r\n                    </TouchableOpacity>\r\n                    )}\r\n                    showsHorizontalScrollIndicator={false}\r\n                />\r\n                <TouchableOpacity\r\n                style={style.closeButtom}\r\n                onPress={() => {\r\n                    setModalVisible(!modalVisible);\r\n                }}\r\n                >\r\n                <Text style={style.textStyle2}>Hide chapter list</Text>\r\n                </TouchableOpacity>\r\n            </View>\r\n            </View>\r\n        </Modal> \r\n      </View>\r\n        <ScrollView style={{flex:1}}>\r\n            <Text style={{ padding: 20, fontSize: 15, textAlign: 'justify'}}>{props.route.params.item.chapter_content}</Text>\r\n        </ScrollView>\r\n        <View style={styles.tabView}>\r\n            <View style={styles.tabContainer}>\r\n              <TouchableOpacity onPress={()=> sendWarning()}>\r\n                  <AntDesign name=\"warning\" size={24} color=\"black\" />\r\n              </TouchableOpacity>\r\n              <TouchableOpacity onPress={()=> deleteStory()}>\r\n                  <AntDesign name=\"delete\" size={24} color=\"black\" />\r\n              </TouchableOpacity>\r\n              <TouchableOpacity onPress={()=> deleteAccount()}>\r\n                  <MaterialCommunityIcons name=\"account-remove-outline\" size={24} color=\"black\" />\r\n              </TouchableOpacity>\r\n              <TouchableOpacity onPress={()=> pass()}>\r\n                 <AntDesign name=\"check\" size={24} color=\"black\" />\r\n              </TouchableOpacity>\r\n            </View>\r\n        </View>\r\n    </View>\r\n  )   \r\n\r\n  function headerComponent () {\r\n    return (\r\n        <View style={{alignItems: \"center\"}}>\r\n            <Image style={style.imageModal}\r\n                source={{uri: props.route.params.story.story_img}} \r\n            />\r\n            <Text style={style.titleModal} numberOfLines={2}>{props.route.params.story.story_title}</Text>\r\n        </View>\r\n    )\r\n}\r\n} export {chapterContent};\r\n \r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        //marginTop: 25,\r\n        borderColor: '#8a2be2',\r\n    },\r\n    tabView: {\r\n      justifyContent: 'flex-end', \r\n      backgroundColor: '#aa4fff', \r\n      width: '100%', \r\n      height: 40, \r\n      paddingRight: 5\r\n    },\r\n    tabContainer: {\r\n      flex: 1, \r\n      height: 40,  \r\n      width: Dimensions.get('window').width,  \r\n      backgroundColor: 'white', \r\n      alignItems: 'center', \r\n      justifyContent: 'space-around', \r\n      flexDirection: 'row'\r\n    },\r\n});\r\n\r\nconst style = StyleSheet.create({\r\n  parts: {\r\n      padding: 10,\r\n      borderBottomWidth: 0.5,\r\n      borderTopWidth: 0.5,\r\n    },\r\n  openChapterList: {\r\n      fontSize: 18,\r\n      color: '#aa4fff',\r\n      fontWeight: 'bold'\r\n    },\r\n  \r\n  centeredView: {\r\n      flex: 1,\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n      marginTop: 22\r\n  },\r\n  textStyle2: {\r\n    color: \"white\",\r\n    fontWeight: \"bold\",\r\n    textAlign: \"center\"\r\n  },\r\n  modalView: {\r\n      margin: 10,\r\n      backgroundColor: \"white\",\r\n      borderRadius: 20,\r\n      padding: 10,\r\n      width: '80%',\r\n      height: '90%',\r\n      //alignItems: \"center\",\r\n      shadowColor: \"#000\",\r\n      shadowOffset: {\r\n      width: 0,\r\n      height: 2\r\n      },\r\n      shadowOpacity: 0.25,\r\n      shadowRadius: 3.84,\r\n      elevation: 5\r\n  },\r\n  centeredView2: {\r\n      flex: 1,\r\n      alignItems: \"center\",\r\n      marginTop: 22\r\n  },\r\n  modalView2: {\r\n      margin: 10,\r\n      backgroundColor: \"white\",\r\n      width: '80%',\r\n      height: 200,\r\n      //alignItems: \"center\",\r\n      shadowColor: \"#000\",\r\n      shadowOffset: {\r\n      width: 0,\r\n      height: 2\r\n      },\r\n      shadowOpacity: 0.25,\r\n      shadowRadius: 3.84,\r\n      elevation: 5\r\n  },\r\n  textStyle: {\r\n      color: \"white\",\r\n      fontWeight: \"bold\",\r\n      textAlign: \"center\"\r\n  },\r\n  modalText: {\r\n      marginBottom: 15,\r\n      textAlign: \"center\"\r\n  },\r\n  imageModal: {\r\n      width: 150,\r\n      height: 200,\r\n      marginTop: 20,\r\n  },\r\n  titleModal: {\r\n      fontSize: 15, \r\n      fontWeight: 'bold', \r\n      marginTop: 10, \r\n      marginBottom: 10\r\n  },\r\n  chapter: {\r\n      padding: 10,\r\n      borderBottomWidth: 0.5,\r\n      borderBottomColor: 'grey'\r\n  },\r\n  closeButtom: {\r\n      backgroundColor: \"#ba68c8\",\r\n      borderRadius: 20,\r\n      padding: 10,\r\n      elevation: 2,\r\n  },\r\n  background: {\r\n    width: 40, \r\n    height: 40, \r\n    borderWidth: 1,\r\n    margin: 10\r\n  }\r\n});"]},"metadata":{},"sourceType":"module"}