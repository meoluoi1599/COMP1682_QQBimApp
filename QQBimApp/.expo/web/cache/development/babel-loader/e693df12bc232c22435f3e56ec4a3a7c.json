{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\QQBimApp\\\\QQBimApp\\\\src\\\\users\\\\ScreemFolder\\\\StoryScreen\\\\ReadingScreen.js\";\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Share from \"react-native-web/dist/exports/Share\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ToastAndroid from \"react-native-web/dist/exports/ToastAndroid\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport { SplashScreen } from \"../../ScreemFolder/OtherScreen\";\nimport { MaterialCommunityIcons, Ionicons, AntDesign } from '@expo/vector-icons';\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport { useFocusEffect } from '@react-navigation/native';\n\nfunction ReadingScreen(props) {\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      dataSource = _React$useState2[0],\n      setDataSource = _React$useState2[1];\n\n  var _React$useState3 = React.useState(true),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      isLoading = _React$useState4[0],\n      setLoading = _React$useState4[1];\n\n  var _React$useState5 = React.useState(),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      vote = _React$useState6[0],\n      setVote = _React$useState6[1];\n\n  var _React$useState7 = React.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      voting = _React$useState8[0],\n      setVoting = _React$useState8[1];\n\n  var _React$useState9 = React.useState(0),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      chapterId = _React$useState10[0],\n      setChapterId = _React$useState10[1];\n\n  var _React$useState11 = React.useState(false),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      modalVisible = _React$useState12[0],\n      setModalVisible = _React$useState12[1];\n\n  var _React$useState13 = React.useState(false),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      modalVisible2 = _React$useState14[0],\n      setModalVisible2 = _React$useState14[1];\n\n  var _React$useState15 = React.useState(false),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      modalVisible3 = _React$useState16[0],\n      setModalVisible3 = _React$useState16[1];\n\n  var _React$useState17 = React.useState([]),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      comment = _React$useState18[0],\n      setComment = _React$useState18[1];\n\n  var _React$useState19 = React.useState(''),\n      _React$useState20 = _slicedToArray(_React$useState19, 2),\n      contentComent = _React$useState20[0],\n      setContentComent = _React$useState20[1];\n\n  var _React$useState21 = React.useState([]),\n      _React$useState22 = _slicedToArray(_React$useState21, 2),\n      userData = _React$useState22[0],\n      setUserData = _React$useState22[1];\n\n  var _React$useState23 = React.useState(true),\n      _React$useState24 = _slicedToArray(_React$useState23, 2),\n      send = _React$useState24[0],\n      setSend = _React$useState24[1];\n\n  var _React$useState25 = React.useState(16),\n      _React$useState26 = _slicedToArray(_React$useState25, 2),\n      fontSize = _React$useState26[0],\n      setFontSize = _React$useState26[1];\n\n  var _React$useState27 = React.useState('black'),\n      _React$useState28 = _slicedToArray(_React$useState27, 2),\n      fontColor = _React$useState28[0],\n      setFontColor = _React$useState28[1];\n\n  var _React$useState29 = React.useState('#f2f2f2'),\n      _React$useState30 = _slicedToArray(_React$useState29, 2),\n      background = _React$useState30[0],\n      setBackground = _React$useState30[1];\n\n  var url1 = 'http://192.168.0.100:19000/default_chapter/' + props.route.params.story.story_id;\n  var url2 = 'http://192.168.0.100:19000/chapter/' + props.route.params.story.story_id + '/' + props.route.params.item.chapter_id;\n\n  var getData = function getData() {\n    return _regeneratorRuntime.async(function getData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            try {\n              AsyncStorage.getItem('user').then(function (value) {\n                var jsonValue = JSON.parse(value);\n                setUserData(jsonValue);\n              });\n            } catch (e) {\n              console.log(e);\n            }\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  React.useEffect(function () {\n    setVote(voting ? vote + 1 : vote - 1);\n  }, [voting]);\n  React.useEffect(function () {\n    sendVote();\n  }, [vote]);\n\n  var fetchData = function fetchData(url) {\n    fetch(url).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      setDataSource(res);\n      setChapterId(res[0].chapter_id);\n    }).catch(function (error) {\n      console.log(error);\n    }).finally(function () {\n      setLoading(false);\n    });\n  };\n\n  useFocusEffect(React.useCallback(function () {\n    props.navigation.dangerouslyGetParent().setOptions({\n      tabBarVisible: false\n    });\n    setVote(props.route.params.story.vote);\n    getData();\n\n    if (props.route.params.chapter == 'default_chapter') {\n      fetchData(url1);\n    } else {\n      fetchData(url2);\n    }\n\n    return function () {\n      console.log('un');\n    };\n  }, []));\n\n  var getPrevChapter = function getPrevChapter() {\n    fetch('http://192.168.0.100:19000/prev_chapter/' + props.route.params.story.story_id + '/' + chapterId).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      if (res == '') {\n        ToastAndroid.show(\"You are in the first of chapter.\", ToastAndroid.SHORT);\n      } else {\n        setDataSource(res);\n        setChapterId(res[0].chapter_id);\n      }\n    }).catch(function (error) {\n      console.log(error);\n    }).finally(function () {\n      setLoading(false);\n    });\n  };\n\n  var getNextChapter = function getNextChapter() {\n    fetch('http://192.168.0.100:19000/next_chapter/' + props.route.params.story.story_id + '/' + chapterId).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      if (res == '') {\n        ToastAndroid.show(\"You are in the last of chapter.\", ToastAndroid.SHORT);\n      } else {\n        setDataSource(res);\n        setChapterId(res[0].chapter_id);\n      }\n    }).catch(function (error) {\n      console.log(error);\n    }).finally(function () {\n      setLoading(false);\n    });\n  };\n\n  function sendVote() {\n    fetch('http://192.168.0.100:19000/vote/' + props.route.params.story.story_id + '/' + vote).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      console.log(res);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  var onShare = function onShare() {\n    var result;\n    return _regeneratorRuntime.async(function onShare$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(Share.share({\n              message: 'This story is very good'\n            }));\n\n          case 3:\n            result = _context2.sent;\n\n            if (result.action === Share.sharedAction) {\n              if (result.activityType) {} else {}\n            } else if (result.action === Share.dismissedAction) {}\n\n            _context2.next = 10;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2[\"catch\"](0);\n            alert(_context2.t0.message);\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  var getComment = function getComment() {\n    fetch('http://192.168.0.100:19000/get_comment/' + props.route.params.story.story_id).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      setComment(res);\n    }).catch(function (error) {\n      console.log(error);\n    }).finally(function () {\n      setLoading(false);\n    });\n  };\n\n  var submitComment = function submitComment() {\n    fetch('http://192.168.0.100:19000/add_comment', {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        'user_id': userData.user_id,\n        'comment_content': contentComent,\n        'story_id': props.route.params.story.story_id\n      })\n    }).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      setContentComent('');\n      getComment();\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  function _onChangeText(text) {\n    setContentComent(text);\n\n    if (text.length > 0) {\n      setSend(false);\n    } else {\n      setSend(true);\n    }\n  }\n\n  return React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 5\n    }\n  }, React.createElement(StatusBar, {\n    hidden: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }\n  }), React.createElement(View, _extends({\n    style: styles.headerContainer\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    style: {\n      marginTop: 20,\n      flexDirection: 'row',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      props.navigation.goBack();\n      props.navigation.dangerouslyGetParent().setOptions({\n        tabBarVisible: true\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 17\n    }\n  }, React.createElement(AntDesign, {\n    name: \"left\",\n    size: 24,\n    color: \"white\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 21\n    }\n  }))), React.createElement(View, {\n    style: {\n      flex: 5\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: 'white',\n      fontSize: 18,\n      fontWeight: 'bold'\n    },\n    numberOfLines: 1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 37\n    }\n  }, props.route.params.story.story_title)), React.createElement(View, {\n    style: {\n      flex: 2,\n      flexDirection: 'row'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: {\n      flex: 1\n    },\n    onPress: function onPress() {\n      setModalVisible2(true);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 17\n    }\n  }, React.createElement(MaterialCommunityIcons, {\n    name: \"format-letter-case\",\n    size: 40,\n    color: \"white\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 25\n    }\n  })), React.createElement(TouchableOpacity, {\n    style: {\n      flex: 1\n    },\n    onPress: function onPress() {\n      setModalVisible(true);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 17\n    }\n  }, React.createElement(Ionicons, {\n    name: \"md-menu\",\n    size: 40,\n    color: 'white',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 21\n    }\n  })))), React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      return setModalVisible(!modalVisible);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 9\n    }\n  }, React.createElement(Modal, {\n    animationType: \"slide\",\n    transparent: true,\n    visible: modalVisible,\n    onRequestClose: function onRequestClose() {\n      setModalVisible(!modalVisible);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: style.centeredView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: style.modalView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: {\n      alignItems: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 17\n    }\n  }, React.createElement(Image, {\n    style: style.imageModal,\n    source: {\n      uri: props.route.params.story.story_img\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 21\n    }\n  }), React.createElement(Text, {\n    style: style.titleModal,\n    numberOfLines: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 21\n    }\n  }, props.route.params.story.story_title)), React.createElement(FlatList, {\n    data: dataSource,\n    keyExtractor: function keyExtractor(item) {\n      return item.chapter_id.toString();\n    },\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item;\n      return React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return props.navigation.navigate('Reading', {\n            chapter_id: item.chapter_id,\n            item: item,\n            story: props.route.params.story\n          }, setModalVisible(!modalVisible));\n        },\n        style: style.chapter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        numberOfLines: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 25\n        }\n      }, item.chapter_name));\n    },\n    showsHorizontalScrollIndicator: false,\n    ListEmptyComponent: ListEmpty,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 17\n    }\n  }), React.createElement(TouchableOpacity, {\n    style: style.closeButtom,\n    onPress: function onPress() {\n      setModalVisible(!modalVisible);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: style.textStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 17\n    }\n  }, \"Hide chapter list\")))))), React.createElement(Modal, {\n    animationType: \"slide\",\n    transparent: true,\n    visible: modalVisible2,\n    onRequestClose: function onRequestClose() {\n      setModalVisible2(!modalVisible2);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: style.centeredView2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: style.modalView2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 13\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: {\n      alignItems: 'flex-end',\n      backgroundColor: '#EEEEEE'\n    },\n    onPress: function onPress() {\n      setModalVisible2(!modalVisible2);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 13\n    }\n  }, React.createElement(AntDesign, {\n    name: \"close\",\n    size: 24,\n    color: \"black\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 21\n    }\n  })), React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 18,\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 21\n    }\n  }, \"Font-size: \"), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      setFontSize(fontSize - 1);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 21\n    }\n  }, React.createElement(MaterialCommunityIcons, {\n    name: \"format-annotation-minus\",\n    size: 30,\n    color: \"black\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 25\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      setFontSize(fontSize + 1);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 21\n    }\n  }, React.createElement(MaterialCommunityIcons, {\n    name: \"format-annotation-plus\",\n    size: 30,\n    color: \"black\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 25\n    }\n  }))), React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 18,\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 21\n    }\n  }, \"Themes: \"), React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 21\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      setBackground('#f2f2f2'), setFontColor('black');\n    },\n    style: [style.background, {\n      backgroundColor: '#f2f2f2'\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 23\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      setBackground('black'), setFontColor('white');\n    },\n    style: [style.background, {\n      backgroundColor: 'black'\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 23\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      setBackground('#ffffe6'), setFontColor('black');\n    },\n    style: [style.background, {\n      backgroundColor: '#ffffe6'\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 23\n    }\n  }))))))), React.createElement(View, {\n    style: {\n      flex: 1,\n      width: '100%',\n      backgroundColor: background\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }\n  }, isLoading ? React.createElement(SplashScreen, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 21\n    }\n  }) : React.createElement(FlatList, {\n    data: dataSource,\n    keyExtractor: function keyExtractor(item) {\n      return item.chapter_id.toString();\n    },\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item;\n      return React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        style: {\n          padding: 20,\n          fontSize: fontSize,\n          textAlign: 'justify',\n          color: fontColor\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 19\n        }\n      }, item.chapter_content));\n    },\n    showsHorizontalScrollIndicator: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 11\n    }\n  })), React.createElement(View, {\n    style: styles.tabView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.tabContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return getPrevChapter();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 11\n    }\n  }, React.createElement(AntDesign, {\n    name: \"arrowleft\",\n    size: 24,\n    color: '#aa4fff',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 13\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      setVoting(!voting);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 11\n    }\n  }, React.createElement(Ionicons, {\n    name: voting ? 'md-star' : 'md-star-outline',\n    size: 24,\n    color: '#aa4fff',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 15\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      setModalVisible3(true);\n      getComment();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 11\n    }\n  }, React.createElement(MaterialCommunityIcons, {\n    name: \"comment-outline\",\n    size: 24,\n    color: '#aa4fff',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 15\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: onShare,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 11\n    }\n  }, React.createElement(MaterialCommunityIcons, {\n    name: \"share-variant\",\n    size: 24,\n    color: '#aa4fff',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 15\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return getNextChapter();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 11\n    }\n  }, React.createElement(AntDesign, {\n    name: \"arrowright\",\n    size: 24,\n    color: '#aa4fff',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 13\n    }\n  })))), React.createElement(Modal, {\n    animationType: \"slide\",\n    transparent: true,\n    visible: modalVisible3,\n    onRequestClose: function onRequestClose() {\n      setModalVisible3(!modalVisible3);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.modalView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: styles.HeaderModal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.HeaderText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 15\n    }\n  }, \"Comment\"), React.createElement(TouchableOpacity, {\n    style: styles.close,\n    onPress: function onPress() {\n      setModalVisible3(!modalVisible3);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 15\n    }\n  }, React.createElement(AntDesign, {\n    name: \"close\",\n    size: 24,\n    color: \"black\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 19\n    }\n  }))), React.createElement(View, {\n    style: styles.comment,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 13\n    }\n  }, React.createElement(FlatList, {\n    data: comment,\n    keyExtractor: function keyExtractor(item) {\n      return item.comment_id.toString();\n    },\n    showsHorizontalScrollIndicator: false,\n    renderItem: function renderItem(_ref3) {\n      var item = _ref3.item;\n      return React.createElement(View, {\n        style: styles.commentContent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 21\n        }\n      }, React.createElement(Image, {\n        style: styles.commentImg,\n        source: {\n          uri: item.user_avatar\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 25\n        }\n      }), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 27\n        }\n      }, item.fullname), React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 27\n        }\n      }, item.comment_content)));\n    },\n    ListEmptyComponent: ListEmpty,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 15\n    }\n  })), React.createElement(View, {\n    style: styles.inputComment,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 13\n    }\n  }, React.createElement(TextInput, {\n    style: {\n      height: 40,\n      margin: 5,\n      backgroundColor: 'white',\n      width: '80%'\n    },\n    autoCorrect: false,\n    value: contentComent,\n    onSubmitEditing: function onSubmitEditing() {\n      return submitComment();\n    },\n    onChangeText: function onChangeText(text) {\n      _onChangeText(text);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 15\n    }\n  }), React.createElement(TouchableOpacity, {\n    disabled: send,\n    onPress: function onPress() {\n      return submitComment();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 15\n    }\n  }, React.createElement(Ionicons, {\n    name: \"md-send\",\n    size: 45,\n    color: \"white\",\n    style: {\n      marginLeft: 10,\n      marginRight: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 17\n    }\n  }))))));\n\n  function ListEmpty() {\n    return React.createElement(View, {\n      style: {\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 7\n      }\n    }, React.createElement(View, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: {\n        fontSize: 18,\n        color: 'black',\n        marginTop: 20,\n        marginBottom: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 13\n      }\n    }, \"There are no comment.\")));\n  }\n\n  ;\n}\n\nexport { ReadingScreen };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'flex-start',\n    flexDirection: 'column',\n    alignItems: 'center',\n    borderColor: '#8a2be2'\n  },\n  headerContainer: {\n    flex: -2,\n    backgroundColor: '#8a2be2',\n    height: 80,\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  tabView: {\n    justifyContent: 'flex-end',\n    backgroundColor: '#aa4fff',\n    width: '100%',\n    height: 40,\n    paddingRight: 5\n  },\n  tabContainer: {\n    flex: 1,\n    height: 40,\n    width: Dimensions.get('window').width,\n    backgroundColor: 'white',\n    alignItems: 'center',\n    justifyContent: 'space-around',\n    flexDirection: 'row'\n  },\n  modalView: {\n    backgroundColor: \"white\",\n    shadowColor: \"#000\",\n    width: Dimensions.get('window').width,\n    height: Dimensions.get('window').height\n  },\n  HeaderModal: {\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    flexDirection: 'row',\n    backgroundColor: '#EEEEEE',\n    height: 40,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  HeaderText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginLeft: 10,\n    flex: 1\n  },\n  close: {\n    flex: -1,\n    marginRight: 10\n  },\n  comment: {\n    padding: 5,\n    flex: 3\n  },\n  commentImg: {\n    width: 60,\n    height: 60,\n    borderRadius: 50,\n    marginLeft: 10,\n    marginRight: 10\n  },\n  commentContent: {\n    flexDirection: 'row',\n    margin: 5\n  },\n  inputComment: {\n    justifyContent: 'flex-end',\n    backgroundColor: '#aa4fff',\n    width: '100%',\n    height: 50,\n    flexDirection: 'row',\n    paddingRight: 5,\n    marginBottom: 30\n  }\n});\nvar style = StyleSheet.create({\n  parts: {\n    padding: 10,\n    borderBottomWidth: 0.5,\n    borderTopWidth: 0.5\n  },\n  openChapterList: {\n    fontSize: 18,\n    color: '#aa4fff',\n    fontWeight: 'bold'\n  },\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 22\n  },\n  modalView: {\n    margin: 10,\n    backgroundColor: \"white\",\n    borderRadius: 20,\n    padding: 10,\n    width: '80%',\n    height: '90%',\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  centeredView2: {\n    flex: 1,\n    alignItems: \"center\",\n    marginTop: 22\n  },\n  modalView2: {\n    margin: 10,\n    backgroundColor: \"white\",\n    width: '80%',\n    height: 200,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  textStyle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  modalText: {\n    marginBottom: 15,\n    textAlign: \"center\"\n  },\n  imageModal: {\n    width: 150,\n    height: 200,\n    marginTop: 20\n  },\n  titleModal: {\n    fontSize: 15,\n    fontWeight: 'bold',\n    marginTop: 10,\n    marginBottom: 10\n  },\n  chapter: {\n    padding: 10,\n    borderBottomWidth: 0.5,\n    borderBottomColor: 'grey'\n  },\n  closeButtom: {\n    backgroundColor: \"#ba68c8\",\n    borderRadius: 20,\n    padding: 10,\n    elevation: 2\n  },\n  background: {\n    width: 40,\n    height: 40,\n    borderWidth: 1,\n    margin: 10\n  }\n});","map":{"version":3,"sources":["D:/QQBimApp/QQBimApp/src/users/ScreemFolder/StoryScreen/ReadingScreen.js"],"names":["React","SplashScreen","MaterialCommunityIcons","Ionicons","AntDesign","useFocusEffect","ReadingScreen","props","useState","dataSource","setDataSource","isLoading","setLoading","vote","setVote","voting","setVoting","chapterId","setChapterId","modalVisible","setModalVisible","modalVisible2","setModalVisible2","modalVisible3","setModalVisible3","comment","setComment","contentComent","setContentComent","userData","setUserData","send","setSend","fontSize","setFontSize","fontColor","setFontColor","background","setBackground","url1","route","params","story","story_id","url2","item","chapter_id","getData","AsyncStorage","getItem","then","value","jsonValue","JSON","parse","e","console","log","useEffect","sendVote","fetchData","url","fetch","response","json","res","catch","error","finally","useCallback","navigation","dangerouslyGetParent","setOptions","tabBarVisible","chapter","getPrevChapter","ToastAndroid","show","SHORT","getNextChapter","onShare","Share","share","message","result","action","sharedAction","activityType","dismissedAction","alert","getComment","submitComment","method","headers","Accept","body","stringify","user_id","onChangeText","text","length","styles","container","headerContainer","marginTop","flexDirection","justifyContent","alignItems","flex","goBack","color","fontWeight","story_title","style","centeredView","modalView","imageModal","uri","story_img","titleModal","toString","navigate","chapter_name","ListEmpty","closeButtom","textStyle","centeredView2","modalView2","backgroundColor","width","padding","textAlign","chapter_content","tabView","tabContainer","HeaderModal","HeaderText","close","comment_id","commentContent","commentImg","user_avatar","fullname","comment_content","inputComment","height","margin","marginLeft","marginRight","marginBottom","StyleSheet","create","borderColor","paddingRight","Dimensions","get","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","borderRadius","parts","borderBottomWidth","borderTopWidth","openChapterList","modalText","borderBottomColor","borderWidth"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { \n  StyleSheet, Dimensions, View, TouchableOpacity, Text, \n  FlatList, Share,Modal, Image, TextInput, \n  ToastAndroid, StatusBar,\n  TouchableWithoutFeedback} from 'react-native';\nimport {SplashScreen} from '../../ScreemFolder/OtherScreen';\nimport { MaterialCommunityIcons,Ionicons, AntDesign} from '@expo/vector-icons';\nimport { AsyncStorage } from 'react-native';\nimport { useFocusEffect } from '@react-navigation/native';\n\nfunction ReadingScreen(props) {\n  const [dataSource, setDataSource ]= React.useState([]);\n  const [isLoading, setLoading] = React.useState(true);\n  const [vote, setVote] = React.useState();\n  const [voting, setVoting] = React.useState(false);\n  const [chapterId, setChapterId] =  React.useState(0);\n  const [modalVisible, setModalVisible] = React.useState(false);\n  const [modalVisible2, setModalVisible2] = React.useState(false);\n  const [modalVisible3, setModalVisible3] = React.useState(false);\n  const [comment, setComment ]= React.useState([]);\n  const [contentComent, setContentComent] = React.useState('');\n  const [userData, setUserData] = React.useState([]);\n  const [send, setSend] = React.useState(true);\n  const [fontSize, setFontSize]  = React.useState(16);\n  const [fontColor, setFontColor]  = React.useState('black');\n  const [background, setBackground] = React.useState('#f2f2f2');\n  let url1 = 'http://192.168.0.100:19000/default_chapter/' + props.route.params.story.story_id;\n  let url2 = 'http://192.168.0.100:19000/chapter/' + props.route.params.story.story_id + '/' + props.route.params.item.chapter_id;\n\n  const getData = async () => {\n    try {\n      AsyncStorage.getItem('user').then((value) => {\n        const jsonValue = JSON.parse(value);\n        setUserData(jsonValue);\n      })\n    } catch(e) {\n      console.log(e)\n    }\n  }\n\n  React.useEffect(()=>{\n    setVote(voting?vote+1:vote-1);\n  },[voting]);\n  \n  React.useEffect(()=>{\n      sendVote();\n  },[vote]);\n\n  // const getMyData=async ()=>{\n  //   const req=await fetch(\"\");\n  //   const data=await req.json();\n  //   console.log(data);\n  // }\n  let fetchData=(url)=> {\n    fetch(url)\n    .then ((response) => response.json())\n    .then ( (res) => { \n      setDataSource(res);\n      setChapterId(res[0].chapter_id);\n    })\n    .catch ((error) => {\n      console.log(error);\n    })\n    .finally(() => {\n      setLoading(false); \n    });\n  }\n  useFocusEffect(\n    React.useCallback(() => {\n      props.navigation.dangerouslyGetParent().setOptions({\n        tabBarVisible: false\n      });\n      setVote(props.route.params.story.vote);\n      getData();\n      if (props.route.params.chapter == 'default_chapter') {\n        fetchData(url1)\n      } else {\n        fetchData(url2)\n      }      \n      // Do something when the screen is focused\n      return () => {\n        console.log('un')\n      };\n    }, [])\n  );\n\n  const getPrevChapter = () => {\n    fetch('http://192.168.0.100:19000/prev_chapter/' + props.route.params.story.story_id + '/' + chapterId)\n    .then ((response) => response.json())\n    .then ( (res) => { \n      if (res == '') {\n        ToastAndroid.show(\"You are in the first of chapter.\", ToastAndroid.SHORT);\n      } else {\n        setDataSource(res);\n        setChapterId(res[0].chapter_id);\n      }\n    })\n    .catch ((error) => {\n      console.log(error);\n    })\n    .finally(() => {\n      setLoading(false); \n    });\n  }\n\n  const getNextChapter = () => {\n    fetch('http://192.168.0.100:19000/next_chapter/' + props.route.params.story.story_id + '/' + chapterId)\n    .then ((response) => response.json())\n    .then ( (res) => { \n      if (res == '') {\n        ToastAndroid.show(\"You are in the last of chapter.\", ToastAndroid.SHORT);\n      } else {\n        setDataSource(res);\n        setChapterId(res[0].chapter_id);\n      }\n    })\n    .catch ((error) => {\n      console.log(error);\n    })\n    .finally(() => {\n      setLoading(false); \n    });\n  }\n\n  function sendVote() {\n    fetch('http://192.168.0.100:19000/vote/' + props.route.params.story.story_id + '/' + vote)\n    .then ((response) => response.json())\n    .then ( (res) => { \n      console.log(res)\n    })\n    .catch ((error) => {\n        console.log(error);\n    })\n  }\n\n  const onShare = async () => {\n    try {\n      const result = await Share.share({\n        message:\n          'This story is very good',\n      });\n      if (result.action === Share.sharedAction) {\n        if (result.activityType) {\n          // shared with activity type of result.activityType\n        } else {\n          // shared\n        }\n      } else if (result.action === Share.dismissedAction) {\n        // dismissed\n      }\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n\n  const getComment = () => {\n    fetch('http://192.168.0.100:19000/get_comment/' + props.route.params.story.story_id)\n    .then ((response) => response.json())\n    .then ( (res) => { \n      setComment(res);\n    })\n    .catch ((error) => {\n      console.log(error);\n    })\n    .finally(() => {\n      setLoading(false) \n    });\n  }\n\n  const submitComment=()=> {\n    fetch('http://192.168.0.100:19000/add_comment' , {\n          method: 'POST',\n          headers: {\n              Accept: 'application/json',\n              'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            'user_id': userData.user_id,\n            'comment_content': contentComent,\n            'story_id': props.route.params.story.story_id\n          })\n      })\n      .then ((response) => response.json())\n      .then ( (res) => { \n        setContentComent('');\n        getComment();\n      })\n      .catch ((error) => {\n        console.log(error);\n      })\n  } \n  function onChangeText(text){\n    setContentComent(text);\n    if (text.length > 0) {\n      setSend(false);\n    } else {\n      setSend(true);\n    }\n  }\n  return (\n    <View style={styles.container}>\n      <StatusBar hidden/>\n      <View style={styles.headerContainer} {...props}>\n        <View style={{marginTop: 20, flexDirection: 'row', justifyContent: 'center', alignItems: 'center'}}>\n            <View style={{flex: 1}}>\n                <TouchableOpacity onPress={() => {\n                    props.navigation.goBack(); \n                    props.navigation.dangerouslyGetParent().setOptions({\n                     tabBarVisible: true\n                    });\n                }}>\n                    <AntDesign name=\"left\" size={24} color=\"white\" />\n                </TouchableOpacity>\n            </View>\n            <View style={{flex: 5}}><Text style={{color: 'white', fontSize: 18, fontWeight: 'bold'}} numberOfLines={1}>{props.route.params.story.story_title}</Text></View>\n            <View style={{flex: 2, flexDirection: 'row'}} >\n                <TouchableOpacity style={{flex:1}} onPress={() => {\n                        setModalVisible2(true);\n                    }}>\n                        <MaterialCommunityIcons name=\"format-letter-case\" size={40} color=\"white\" />\n                    </TouchableOpacity>\n                <TouchableOpacity style={{flex:1}} onPress={() => {\n                    setModalVisible(true);\n                }}>\n                    <Ionicons name='md-menu' size={40} color={'white'}/>\n                </TouchableOpacity>\n            </View>\n        </View>\n\n        <TouchableWithoutFeedback onPress={() => setModalVisible(!modalVisible)}>\n        <Modal\n            animationType=\"slide\"\n            transparent={true}\n            visible={modalVisible}\n            onRequestClose={() => {setModalVisible(!modalVisible);}}\n        >\n            <View style={style.centeredView}>\n            <View style={style.modalView}>        \n                <View style={{alignItems: \"center\"}}>\n                    <Image style={style.imageModal}\n                        source={{uri: props.route.params.story.story_img}} \n                    />\n                    <Text style={style.titleModal} numberOfLines={2}>{props.route.params.story.story_title}</Text>\n                </View>\n                <FlatList\n                    data={dataSource}\n                    keyExtractor= {item => item.chapter_id.toString()}\n                    renderItem={({ item }) => (\n                    <TouchableOpacity \n                        onPress={() => props.navigation.navigate('Reading', {chapter_id: item.chapter_id, item: item, story: props.route.params.story}, \n                        setModalVisible(!modalVisible)\n                        )} style={style.chapter}>         \n                        <Text numberOfLines={1}>{item.chapter_name}</Text>\n                    </TouchableOpacity>\n                    )}\n                    showsHorizontalScrollIndicator={false}\n                    ListEmptyComponent={ListEmpty}\n                />           \n                <TouchableOpacity\n                style={style.closeButtom}\n                onPress={() => {\n                    setModalVisible(!modalVisible);\n                }}\n                >\n                <Text style={style.textStyle}>Hide chapter list</Text>\n                </TouchableOpacity>\n            </View>\n            </View>\n        </Modal> \n        </TouchableWithoutFeedback>\n\n        <Modal\n            animationType=\"slide\"\n            transparent={true}\n            visible={modalVisible2}\n            onRequestClose={() => {setModalVisible2(!modalVisible2);}}\n        >\n            <View style={style.centeredView2}>\n            <View style={style.modalView2}>        \n            <TouchableOpacity\n                style={{alignItems: 'flex-end', backgroundColor: '#EEEEEE'}}\n                onPress={() => {\n                    setModalVisible2(!modalVisible2);\n                }}\n                >\n                    <AntDesign name=\"close\" size={24} color=\"black\" /></TouchableOpacity>\n                <View style={{flexDirection: 'row', alignItems: 'center'}}>\n                    <Text style={{fontSize: 18, fontWeight: 'bold'}}>Font-size: </Text>\n                    <TouchableOpacity onPress={()=>{setFontSize(fontSize-1)}} >\n                        <MaterialCommunityIcons name=\"format-annotation-minus\" size={30} color=\"black\" />\n                    </TouchableOpacity>\n                    <TouchableOpacity onPress={()=>{setFontSize(fontSize+1)}}>\n                        <MaterialCommunityIcons name=\"format-annotation-plus\" size={30} color=\"black\" />\n                    </TouchableOpacity>\n                </View>\n                <View>\n                    <Text style={{fontSize: 18, fontWeight: 'bold'}}>Themes: </Text>\n                    <View style={{flexDirection: 'row', alignItems: 'center', justifyContent: 'center'}}>\n                      <TouchableOpacity \n                        onPress={()=>{setBackground('#f2f2f2'), setFontColor('black')}} \n                        style={[style.background, {backgroundColor:'#f2f2f2' }]}>\n                      </TouchableOpacity>\n                      <TouchableOpacity\n                      onPress={()=>{setBackground('black'), setFontColor('white')}} \n                      style={[style.background, {backgroundColor: 'black' }]}>\n                      </TouchableOpacity>\n                      <TouchableOpacity \n                      onPress={()=>{setBackground('#ffffe6'), setFontColor('black')}}\n                      style={[style.background, {backgroundColor: '#ffffe6'}]}>\n                      </TouchableOpacity>\n                    </View>\n                </View>\n            </View>\n            </View>\n        </Modal> \n      </View>\n      <View style={{flex: 1, width: '100%', backgroundColor: background}}>\n        {isLoading? <SplashScreen/>:(\n          <FlatList\n            data={dataSource}\n            keyExtractor= {item => item.chapter_id.toString()}\n            renderItem={({ item }) => (\n              <View>         \n                  <Text style={{ padding: 20, fontSize: fontSize, textAlign: 'justify', color: fontColor}}>{item.chapter_content}</Text>\n              </View>\n            )}  \n            showsHorizontalScrollIndicator={false}\n          /> \n        )}\n      </View>\n      <View style={styles.tabView}>\n        <View style={styles.tabContainer}>\n          <TouchableOpacity onPress={()=> getPrevChapter()}>\n            <AntDesign name=\"arrowleft\" size={24} color={'#aa4fff'} />\n          </TouchableOpacity>\n          <TouchableOpacity onPress={() => {setVoting(!voting);}}>\n              <Ionicons \n                  name= {voting?'md-star':'md-star-outline'}\n                  size={24} \n                  color={'#aa4fff'} \n              />\n          </TouchableOpacity>\n          <TouchableOpacity \n            onPress={() => {\n              setModalVisible3(true);\n              getComment();\n            }}>\n              <MaterialCommunityIcons \n                  name=\"comment-outline\" \n                  size={24} \n                  color={'#aa4fff'} \n              />\n          </TouchableOpacity>\n          <TouchableOpacity onPress={onShare}>\n              <MaterialCommunityIcons name=\"share-variant\" size={24} color={'#aa4fff'} />\n          </TouchableOpacity>\n          <TouchableOpacity onPress={()=> getNextChapter()}>\n            <AntDesign name=\"arrowright\" size={24} color={'#aa4fff'} />\n          </TouchableOpacity>\n        </View>\n      </View>\n      <Modal\n        animationType=\"slide\"\n        transparent={true}\n        visible={modalVisible3}\n        onRequestClose={() => {\n          setModalVisible3(!modalVisible3);\n        }}\n      >\n          <View style={styles.modalView}>\n            <View style={styles.HeaderModal}>\n              <Text style={styles.HeaderText}>Comment</Text>\n              <TouchableOpacity\n                  style={styles.close}\n                  onPress={() => {\n                    setModalVisible3(!modalVisible3);\n                  }}\n                >\n                  <AntDesign name=\"close\" size={24} color=\"black\" />\n              </TouchableOpacity>\n            </View>\n            <View style={styles.comment}>\n              <FlatList\n                data={comment}\n                keyExtractor= {item => item.comment_id.toString()}\n                showsHorizontalScrollIndicator={false}\n                renderItem={({ item }) => (\n                    <View style={styles.commentContent}>         \n                        <Image \n                          style={styles.commentImg}\n                          source={{ uri: item.user_avatar }}\n                        />\n                        <View>\n                          <Text style={{fontWeight: 'bold'}}>{item.fullname}</Text>\n                          <Text>{item.comment_content}</Text>\n                        </View>\n                    </View>\n                )}  \n                ListEmptyComponent={ListEmpty}\n              /> \n            </View>\n            <View style={styles.inputComment}>\n              <TextInput\n                style={{ height: 40, margin: 5, backgroundColor: 'white', width: '80%'}}\n                autoCorrect={false}\n                value={contentComent}\n                onSubmitEditing={() => submitComment()}\n                onChangeText={text =>  {onChangeText(text)}}\n              />\n              <TouchableOpacity \n                disabled = {send}\n                onPress={() => submitComment()}>\n                <Ionicons name=\"md-send\" size={45} color=\"white\" style={{ marginLeft: 10, marginRight: 10}} />\n              </TouchableOpacity>\n            </View>\n          </View>\n      </Modal>\n    </View>\n  );\n  function ListEmpty() {\n    return (\n      //View to show when list is empty\n      <View style={{justifyContent: 'center', alignItems: 'center'}}>  \n          <View>\n            <Text style={{fontSize: 18, color: 'black', marginTop: 20, marginBottom: 20}}>There are no comment.</Text>\n          </View>\n      </View>\n    );\n  }; \n} export {ReadingScreen};\n \nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        justifyContent: 'flex-start',\n        flexDirection: 'column',\n        alignItems: 'center',\n        //marginTop: 25,\n        borderColor: '#8a2be2',\n    },\n    headerContainer: { \n      flex: -2, \n      backgroundColor: '#8a2be2', \n      height: 80, \n      width: '100%', \n      justifyContent: 'center', \n      alignItems: 'center'\n    },\n    tabView: {\n      justifyContent: 'flex-end', \n      backgroundColor: '#aa4fff', \n      width: '100%', \n      height: 40, \n      paddingRight: 5\n    },\n    tabContainer: {\n      flex: 1, \n      height: 40,  \n      width: Dimensions.get('window').width,  \n      backgroundColor: 'white', \n      alignItems: 'center', \n      justifyContent: 'space-around', \n      flexDirection: 'row'\n    },\n    modalView: {\n      backgroundColor: \"white\",\n      shadowColor: \"#000\",\n      width: Dimensions.get('window').width, \n      height: Dimensions.get('window').height,\n    },\n    HeaderModal: {\n      justifyContent: 'flex-start',\n      alignItems: 'center',\n      flexDirection: 'row',\n      backgroundColor: '#EEEEEE',\n      height: 40,\n      shadowColor: \"#000\",\n      shadowOffset: {\n        width: 0,\n        height: 2\n      },\n      shadowOpacity: 0.25,\n      shadowRadius: 3.84,\n      elevation: 5,\n    },\n    HeaderText: {\n      fontSize: 20,\n      fontWeight: 'bold',\n      marginLeft: 10,\n      flex: 1\n    },\n    close: {\n      flex: -1,\n      marginRight: 10\n    },\n    comment: {\n      padding: 5,\n      flex: 3\n    },\n    commentImg: {\n      width: 60,\n      height: 60,\n      borderRadius: 50,\n      marginLeft: 10,\n      marginRight: 10\n    },\n    commentContent: {\n      flexDirection: 'row',\n      margin: 5\n    },\n    inputComment: {\n      justifyContent: 'flex-end', \n      backgroundColor: '#aa4fff', \n      width: '100%', \n      height: 50, \n      flexDirection: 'row', \n      paddingRight: 5, \n      marginBottom: 30\n    }\n});\n\nconst style = StyleSheet.create({\n  parts: {\n      padding: 10,\n      borderBottomWidth: 0.5,\n      borderTopWidth: 0.5,\n    },\n  openChapterList: {\n      fontSize: 18,\n      color: '#aa4fff',\n      fontWeight: 'bold'\n    },\n  \n  centeredView: {\n      flex: 1,\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      marginTop: 22\n  },\n  modalView: {\n      margin: 10,\n      backgroundColor: \"white\",\n      borderRadius: 20,\n      padding: 10,\n      width: '80%',\n      height: '90%',\n      //alignItems: \"center\",\n      shadowColor: \"#000\",\n      shadowOffset: {\n      width: 0,\n      height: 2\n      },\n      shadowOpacity: 0.25,\n      shadowRadius: 3.84,\n      elevation: 5\n  },\n  centeredView2: {\n      flex: 1,\n      alignItems: \"center\",\n      marginTop: 22\n  },\n  modalView2: {\n      margin: 10,\n      backgroundColor: \"white\",\n      width: '80%',\n      height: 200,\n      //alignItems: \"center\",\n      shadowColor: \"#000\",\n      shadowOffset: {\n      width: 0,\n      height: 2\n      },\n      shadowOpacity: 0.25,\n      shadowRadius: 3.84,\n      elevation: 5\n  },\n  textStyle: {\n      color: \"white\",\n      fontWeight: \"bold\",\n      textAlign: \"center\"\n  },\n  modalText: {\n      marginBottom: 15,\n      textAlign: \"center\"\n  },\n  imageModal: {\n      width: 150,\n      height: 200,\n      marginTop: 20,\n  },\n  titleModal: {\n      fontSize: 15, \n      fontWeight: 'bold', \n      marginTop: 10, \n      marginBottom: 10\n  },\n  chapter: {\n      padding: 10,\n      borderBottomWidth: 0.5,\n      borderBottomColor: 'grey'\n  },\n  closeButtom: {\n      backgroundColor: \"#ba68c8\",\n      borderRadius: 20,\n      padding: 10,\n      elevation: 2,\n  },\n  background: {\n    width: 40, \n    height: 40, \n    borderWidth: 1,\n    margin: 10\n  }\n});"]},"metadata":{},"sourceType":"module"}