{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\QQBimApp\\\\QQBimApp\\\\src\\\\users\\\\Components\\\\UserPageScreen\\\\BodyAboutComponent.js\";\nimport * as React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ToastAndroid from \"react-native-web/dist/exports/ToastAndroid\";\nimport { SplashScreen } from \"../../ScreemFolder/OtherScreen\";\nimport { MaterialIcons, FontAwesome } from '@expo/vector-icons';\nimport { useFocusEffect } from '@react-navigation/native';\n\nfunction BodyAboutComponent(props) {\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      dataSource = _React$useState2[0],\n      setDataSource = _React$useState2[1];\n\n  var _React$useState3 = React.useState(true),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      isLoading = _React$useState4[0],\n      setLoading = _React$useState4[1];\n\n  var _React$useState5 = React.useState([]),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      followingUser = _React$useState6[0],\n      setFollowingUser = _React$useState6[1];\n\n  var _React$useState7 = React.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      modalVisible = _React$useState8[0],\n      setModalVisible = _React$useState8[1];\n\n  var _React$useState9 = React.useState([]),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      user = _React$useState10[0],\n      setUser = _React$useState10[1];\n\n  var _React$useState11 = React.useState([]),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      data = _React$useState12[0],\n      setData = _React$useState12[1];\n\n  var _React$useState13 = React.useState(''),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      value = _React$useState14[0],\n      setValue = _React$useState14[1];\n\n  function get_list(jsonValue) {\n    fetch('http://192.168.0.102:19000/get_list/' + jsonValue.user_id).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      setData(res);\n    }).catch(function (error) {\n      console.log(error);\n    }).finally(function () {\n      setLoading(false);\n    });\n  }\n\n  var getData = function getData() {\n    return _regeneratorRuntime.async(function getData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            try {\n              AsyncStorage.getItem('user').then(function (value) {\n                var jsonValue = JSON.parse(value);\n                get_list(jsonValue);\n                getUerBook(jsonValue);\n                setUser(jsonValue);\n                getFollowing(jsonValue);\n              });\n            } catch (e) {\n              console.log(e);\n            }\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var getUerBook = function getUerBook(jsonValue) {\n    fetch('http://192.168.0.102:19000/book_author/' + jsonValue.user_id).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      console.log('kq:' + res);\n      setDataSource(res);\n    }).catch(function (error) {\n      console.log(error);\n    }).finally(function () {\n      setLoading(false);\n    });\n  };\n\n  var getFollowing = function getFollowing(jsonValue) {\n    fetch('http://192.168.0.102:19000/get_following/' + jsonValue.user_id).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      setFollowingUser(res);\n    }).catch(function (error) {\n      console.log(error);\n    }).finally(function () {\n      setLoading(false);\n    });\n  };\n\n  function create_list() {\n    fetch('http://192.168.0.102:19000/create_list', {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        'user_id': user.user_id,\n        'list_name': value\n      })\n    }).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      setModalVisible(false);\n      ToastAndroid.show(\"Sucessfull!\", ToastAndroid.SHORT);\n      get_list(user);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  var deleteList = function deleteList(list_id) {\n    Alert.alert(\"Do you want to delete your list?\", \"If you choose OK, your list will delete forever.\", [{\n      text: \"Cancel\",\n      onPress: function onPress() {\n        return console.log(\"Cancel Pressed\");\n      },\n      style: \"cancel\"\n    }, {\n      text: \"OK\",\n      onPress: function onPress() {\n        fetch('http://192.168.0.102:19000/delete_list/' + user.user_id + '/' + list_id).then(function (response) {\n          return response.json();\n        }).then(function (res) {\n          ToastAndroid.show(\"Sucessfull!\", ToastAndroid.SHORT);\n          get_list(user);\n        }).catch(function (error) {\n          console.log(error);\n        }).finally(function () {\n          setLoading(false);\n        });\n      }\n    }], {\n      cancelable: false\n    });\n  };\n\n  useFocusEffect(React.useCallback(function () {\n    getData();\n    return function () {\n      console.log('un');\n    };\n  }, []));\n\n  var footerList = function footerList() {\n    return React.createElement(View, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 7\n      }\n    }, React.createElement(TouchableOpacity, {\n      style: style.listContainer,\n      onPress: function onPress() {\n        return setModalVisible(!modalVisible);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }\n    }, React.createElement(MaterialIcons, {\n      name: \"playlist-add\",\n      size: 40,\n      color: \"black\",\n      style: {\n        marginLeft: 5\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }\n    }), React.createElement(Text, {\n      style: style.textName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }\n    }, \"Add new list\")));\n  };\n\n  var followingEmpty = function followingEmpty() {\n    return React.createElement(View, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }\n    }, \"You don't follow any one.\"));\n  };\n\n  function ListEmpty() {\n    return React.createElement(View, {\n      style: style.listContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 7\n      }\n    }, React.createElement(TouchableOpacity, {\n      style: {\n        flexDirection: 'row'\n      },\n      onPress: function onPress() {\n        return setModalVisible(!modalVisible);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }\n    }, React.createElement(MaterialIcons, {\n      name: \"note-add\",\n      size: 24,\n      color: \"grey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }\n    }), React.createElement(Text, {\n      style: style.textName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }\n    }, \"There aren't lists.\")));\n  }\n\n  ;\n\n  var EmptyStory = function EmptyStory() {\n    return React.createElement(TouchableOpacity, {\n      style: style.imgEmptyStory,\n      onPress: function onPress() {\n        return props.navigation.navigate('NewStory');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 7\n      }\n    }, React.createElement(MaterialIcons, {\n      name: \"add\",\n      size: 50,\n      style: {\n        opacity: 0.3\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }\n    }));\n  };\n\n  return React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }\n  }, isLoading ? React.createElement(SplashScreen, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 21\n    }\n  }) : React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: style.text,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 15\n    }\n  }, \"Story of \", user.username)), React.createElement(FlatList, {\n    data: dataSource,\n    keyExtractor: function keyExtractor(item) {\n      return item.story_id.toString();\n    },\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item;\n      return React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return props.navigation.navigate('DetailStory', {\n            item: item\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: style.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 21\n        }\n      }, React.createElement(View, {\n        style: {\n          flex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 25\n        }\n      }, React.createElement(Image, {\n        style: {\n          width: 100,\n          height: 120\n        },\n        source: {\n          uri: item.story_img\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 27\n        }\n      })), React.createElement(View, {\n        style: {\n          flex: -4\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        numberOfLines: 1,\n        style: {\n          fontSize: 15\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 27\n        }\n      }, item.story_title))));\n    },\n    horizontal: true,\n    ListFooterComponent: EmptyStory,\n    showsHorizontalScrollIndicator: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  })), React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 11\n    }\n  }, isLoading ? React.createElement(SplashScreen, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 25\n    }\n  }) : React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 15\n    }\n  }, React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: style.text,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 23\n    }\n  }, \"Following\")), React.createElement(FlatList, {\n    data: followingUser,\n    style: {\n      marginLeft: 10\n    },\n    horizontal: true,\n    showsHorizontalScrollIndicator: false,\n    keyExtractor: function keyExtractor(item) {\n      return item.user_id.toString();\n    },\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item;\n      return React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return props.navigation.navigate('DetailUser', {\n            item: item\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 21\n        }\n      }, React.createElement(Image, {\n        style: style.image,\n        source: {\n          uri: item.user_avatar\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 25\n        }\n      }));\n    },\n    ListEmptyComponent: followingEmpty,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 17\n    }\n  }))), React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 11\n    }\n  }, isLoading ? React.createElement(SplashScreen, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 25\n    }\n  }) : React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 15\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: 'row'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: style.text,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 19\n    }\n  }, \"List story of \", user.username)), React.createElement(FlatList, {\n    data: data,\n    keyExtractor: function keyExtractor(item) {\n      return item.list_id.toString();\n    },\n    renderItem: function renderItem(_ref3) {\n      var item = _ref3.item;\n      return React.createElement(View, {\n        style: style.listContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 21\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: {\n          flexDirection: 'row',\n          margin: 10,\n          flex: 1\n        },\n        onPress: function onPress() {\n          return props.navigation.navigate('DetailUserList', {\n            item: item\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 23\n        }\n      }, React.createElement(Image, {\n        source: require(\"../../Images/list.png\"),\n        style: style.imgList,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 25\n        }\n      }), React.createElement(Text, {\n        style: style.textName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 25\n        }\n      }, item.list_name)), React.createElement(TouchableOpacity, {\n        style: {\n          margin: 10\n        },\n        onPress: function onPress() {\n          deleteList(item.list_id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 23\n        }\n      }, React.createElement(FontAwesome, {\n        name: \"remove\",\n        color: '#c0c0c0',\n        style: {\n          fontSize: 20,\n          marginLeft: 10,\n          marginRight: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 25\n        }\n      })));\n    },\n    ListEmptyComponent: ListEmpty,\n    ListFooterComponent: footerList,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 17\n    }\n  })))), React.createElement(Modal, {\n    animationType: \"slide\",\n    transparent: true,\n    visible: modalVisible,\n    onRequestClose: function onRequestClose() {\n      setModalVisible(!modalVisible);\n      get_list(user.user_id);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: style.centeredView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: style.modalView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 18,\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 15\n    }\n  }, \"Create New List\"), React.createElement(TextInput, {\n    placeholder: \"Enter name of list\",\n    onChangeText: function onChangeText(text) {\n      return setValue(text);\n    },\n    onSubmitEditing: function onSubmitEditing() {\n      return create_list();\n    },\n    returnKeyType: \"done\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 15\n    }\n  })))));\n}\n\nexport { BodyAboutComponent };\nvar style = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: 5,\n    flex: 1,\n    backgroundColor: 'white',\n    width: 115,\n    margin: 5,\n    height: 160\n  },\n  text: {\n    margin: 10,\n    fontSize: 20,\n    fontWeight: 'bold',\n    flex: 1\n  },\n  listContainer: {\n    marginTop: 5,\n    marginLeft: 10,\n    marginRight: 10,\n    flexDirection: 'row',\n    backgroundColor: 'white',\n    borderColor: '#aa4fff',\n    borderBottomWidth: 0.5\n  },\n  img: {\n    width: 80,\n    height: 80,\n    borderRadius: 50\n  },\n  imgList: {\n    width: 30,\n    height: 30\n  },\n  textName: {\n    fontSize: 18,\n    color: 'grey',\n    marginLeft: 10\n  },\n  centeredView: {\n    flex: 1,\n    marginTop: 22,\n    flexDirection: 'column',\n    justifyContent: \"flex-end\"\n  },\n  modalView: {\n    backgroundColor: \"white\",\n    alignItems: \"center\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  imgEmptyStory: {\n    width: 100,\n    height: 120,\n    backgroundColor: '#f2f2f2',\n    alignItems: \"center\",\n    justifyContent: 'center',\n    marginLeft: 10\n  },\n  image: {\n    marginRight: 10,\n    width: 70,\n    height: 70,\n    borderRadius: 50\n  }\n});","map":{"version":3,"sources":["D:/QQBimApp/QQBimApp/src/users/Components/UserPageScreen/BodyAboutComponent.js"],"names":["React","SplashScreen","MaterialIcons","FontAwesome","useFocusEffect","BodyAboutComponent","props","useState","dataSource","setDataSource","isLoading","setLoading","followingUser","setFollowingUser","modalVisible","setModalVisible","user","setUser","data","setData","value","setValue","get_list","jsonValue","fetch","user_id","then","response","json","res","catch","error","console","log","finally","getData","AsyncStorage","getItem","JSON","parse","getUerBook","getFollowing","e","create_list","method","headers","Accept","body","stringify","ToastAndroid","show","SHORT","deleteList","list_id","Alert","alert","text","onPress","style","cancelable","useCallback","footerList","listContainer","marginLeft","textName","followingEmpty","ListEmpty","flexDirection","EmptyStory","imgEmptyStory","navigation","navigate","opacity","username","item","story_id","toString","container","flex","width","height","uri","story_img","fontSize","story_title","image","user_avatar","margin","require","imgList","list_name","marginRight","centeredView","modalView","fontWeight","StyleSheet","create","alignItems","padding","backgroundColor","marginTop","borderColor","borderBottomWidth","img","borderRadius","color","justifyContent","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport { StyleSheet, View, Text, FlatList,TouchableOpacity, Image, AsyncStorage, Modal, TextInput, Alert, ToastAndroid} from 'react-native';\r\nimport {SplashScreen} from '../../ScreemFolder/OtherScreen'\r\nimport { MaterialIcons, FontAwesome } from '@expo/vector-icons'; \r\nimport { useFocusEffect } from '@react-navigation/native';\r\n\r\nfunction BodyAboutComponent(props) {\r\n  const [dataSource, setDataSource ] = React.useState([]);\r\n  const [isLoading, setLoading] = React.useState(true);\r\n  const [followingUser, setFollowingUser ] = React.useState([]);\r\n  const [modalVisible, setModalVisible] = React.useState(false);\r\n  const [user, setUser] = React.useState([]);\r\n  const [data, setData] = React.useState([]);\r\n  const [value, setValue] = React.useState('');\r\n\r\n  function get_list(jsonValue) {\r\n    fetch('http://192.168.0.102:19000/get_list/' + jsonValue.user_id)\r\n    .then ((response) => response.json())\r\n    .then ( (res) => { \r\n      setData(res);\r\n    })\r\n    .catch ((error) => {\r\n      console.log(error);\r\n    })\r\n    .finally(() => {\r\n      setLoading(false) \r\n    });\r\n  }\r\n  const getData = async () => {\r\n    try {\r\n      AsyncStorage.getItem('user').then((value) => {\r\n        const jsonValue = JSON.parse(value);\r\n        get_list(jsonValue);\r\n        getUerBook(jsonValue);\r\n        setUser(jsonValue);\r\n        getFollowing(jsonValue)\r\n      })\r\n    } catch(e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  const getUerBook=(jsonValue)=> {\r\n    fetch('http://192.168.0.102:19000/book_author/' + jsonValue.user_id)\r\n    .then ((response) => response.json())\r\n    .then ( (res) => { \r\n      console.log('kq:' + res); \r\n      setDataSource(res);\r\n    })\r\n    .catch ((error) => {\r\n      console.log(error);\r\n    })\r\n    .finally(() => {\r\n      setLoading(false) \r\n    });\r\n  }\r\n  \r\n  const getFollowing=(jsonValue)=> {\r\n    fetch('http://192.168.0.102:19000/get_following/' + jsonValue.user_id)\r\n    .then ((response) => response.json())\r\n    .then ( (res) => { \r\n      setFollowingUser(res);\r\n    })\r\n    .catch ((error) => {\r\n      console.log(error);\r\n    })\r\n    .finally(() => {\r\n      setLoading(false) \r\n    });\r\n  }\r\n\r\n  function create_list(){\r\n    fetch('http://192.168.0.102:19000/create_list' , {\r\n          method: 'POST',\r\n          headers: {\r\n              Accept: 'application/json',\r\n              'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({\r\n            'user_id': user.user_id,\r\n            'list_name': value\r\n          })\r\n      })\r\n      .then ((response) => response.json())\r\n      .then ( (res) => { \r\n        setModalVisible(false);\r\n        ToastAndroid.show(\"Sucessfull!\", ToastAndroid.SHORT);\r\n        get_list(user);\r\n      })\r\n      .catch ((error) => {\r\n        console.log(error);\r\n      })\r\n  }\r\n\r\n  const deleteList=(list_id)=> {\r\n    Alert.alert(\r\n      \"Do you want to delete your list?\",\r\n      \"If you choose OK, your list will delete forever.\",\r\n      [\r\n        {\r\n          text: \"Cancel\",\r\n          onPress: () => console.log(\"Cancel Pressed\"),\r\n          style: \"cancel\"\r\n        },\r\n        { text: \"OK\", onPress: () => {\r\n          fetch('http://192.168.0.102:19000/delete_list/' + user.user_id + '/' + list_id)\r\n          .then ((response) => response.json())\r\n          .then ( (res) => { \r\n            ToastAndroid.show(\"Sucessfull!\", ToastAndroid.SHORT);\r\n            get_list(user);\r\n          })\r\n          .catch ((error) => {\r\n            console.log(error);\r\n          })\r\n          .finally(() => {\r\n            setLoading(false);\r\n          });\r\n        } }\r\n      ],\r\n      { cancelable: false }\r\n    ); \r\n  }\r\n\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      getData();\r\n      // Do something when the screen is focused\r\n      return () => {\r\n        console.log('un')\r\n      };\r\n    }, [])\r\n  );\r\n\r\n  const footerList=()=> {\r\n    return(\r\n      <View>\r\n        <TouchableOpacity style={style.listContainer} onPress={()=> setModalVisible(!modalVisible)}>      \r\n          <MaterialIcons name=\"playlist-add\" size={40} color=\"black\" style={{marginLeft: 5}} />\r\n          <Text style={style.textName}>Add new list</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    )\r\n  }\r\n  const followingEmpty=() => {\r\n    return (\r\n      <View>\r\n        <Text>You don't follow any one.</Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  function ListEmpty() {\r\n    return (\r\n      //View to show when list is empty\r\n      <View style={style.listContainer}>\r\n        <TouchableOpacity style={{flexDirection: 'row'}} onPress={() => setModalVisible(!modalVisible)}>\r\n          <MaterialIcons name=\"note-add\" size={24} color=\"grey\"/>\r\n          <Text style={style.textName}>There aren't lists.</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    );\r\n  };\r\n  \r\n  const EmptyStory=()=> {\r\n    return(\r\n      <TouchableOpacity style={style.imgEmptyStory} onPress={()=> props.navigation.navigate('NewStory')}>\r\n        <MaterialIcons name=\"add\" size={50} style={{opacity: 0.3}} />\r\n      </TouchableOpacity>\r\n    );\r\n  }\r\n    return (\r\n      <View>\r\n        {isLoading? <SplashScreen/>:(\r\n        <View>\r\n          <View>\r\n            <View>\r\n              <Text style={style.text}>Story of {user.username}</Text>\r\n            </View>\r\n            <FlatList\r\n              data={dataSource}\r\n              keyExtractor= {item => item.story_id.toString()}\r\n              renderItem={({ item }) => (\r\n                <TouchableOpacity onPress={() => props.navigation.navigate('DetailStory', {item: item})}>         \r\n                    <View style={style.container}>\r\n                        <View style={{flex: 1}}>\r\n                          <Image style={{width: 100, height: 120}}\r\n                            source={{uri: item.story_img}}\r\n                          />\r\n                        </View>\r\n                        <View style={{flex: -4}}>\r\n                          <Text  numberOfLines={1} style={{ fontSize: 15}}>{item.story_title}</Text>\r\n                        </View>\r\n                      </View>\r\n                </TouchableOpacity>\r\n              )}\r\n              horizontal\r\n              ListFooterComponent={EmptyStory}\r\n              showsHorizontalScrollIndicator={false}\r\n            />\r\n          </View>\r\n          <View>\r\n            {isLoading? <SplashScreen/>: (\r\n              <View>\r\n                <View><Text style={style.text}>Following</Text></View>\r\n                <FlatList\r\n                  data={followingUser}\r\n                  style={{marginLeft: 10}}\r\n                  horizontal\r\n                  showsHorizontalScrollIndicator={false}\r\n                  keyExtractor={item => item.user_id.toString()}\r\n                  renderItem={({item}) => (\r\n                    <TouchableOpacity onPress={() => props.navigation.navigate('DetailUser', {item: item})}>\r\n                        <Image style={style.image}\r\n                            source={{uri: item.user_avatar}} \r\n                        />\r\n                    </TouchableOpacity>        \r\n                  )}\r\n                  ListEmptyComponent={followingEmpty}\r\n                />\r\n              </View>\r\n            )}\r\n          </View>\r\n          <View>\r\n            {isLoading? <SplashScreen/>:(\r\n              <View>\r\n                <View style={{flexDirection: 'row'}}>\r\n                  <Text style={style.text}>List story of {user.username}</Text>\r\n                </View>\r\n                <FlatList\r\n                  data={data}\r\n                  keyExtractor= {item => item.list_id.toString()}\r\n                  renderItem={({ item }) =>(\r\n                    <View style={style.listContainer}>\r\n                      <TouchableOpacity style={{flexDirection: 'row', margin: 10, flex: 1}} onPress={() =>props.navigation.navigate('DetailUserList', {item: item})}>\r\n                        <Image \r\n                          source={require(\"../../Images/list.png\")}\r\n                          style={style.imgList}\r\n                        />\r\n                        <Text style={style.textName}>{item.list_name}</Text>\r\n                      </TouchableOpacity>\r\n                      <TouchableOpacity style={{ margin: 10}} onPress={()=> {deleteList(item.list_id);}}>\r\n                        <FontAwesome\r\n                          name=\"remove\"\r\n                          color={'#c0c0c0'}\r\n                          style={{fontSize: 20, marginLeft: 10, marginRight: 10}}\r\n                        />\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                  )}\r\n                  ListEmptyComponent={ListEmpty}\r\n                  ListFooterComponent={footerList}\r\n                />\r\n              </View>\r\n            )}\r\n          </View>\r\n        </View>\r\n      )}\r\n      <Modal\r\n          animationType=\"slide\"\r\n          transparent={true}\r\n          visible={modalVisible}\r\n          onRequestClose={() => {\r\n            setModalVisible(!modalVisible);\r\n            get_list(user.user_id)\r\n          }}\r\n        >\r\n          <View style={style.centeredView}>\r\n            <View style={style.modalView}>\r\n              <Text style={{fontSize: 18, fontWeight: 'bold'}}>Create New List</Text>\r\n              <TextInput placeholder='Enter name of list'\r\n                onChangeText={text => setValue(text)}\r\n                onSubmitEditing={()=> create_list()}\r\n                returnKeyType='done'\r\n              />\r\n            </View>\r\n          </View>\r\n        </Modal>\r\n      </View>\r\n    );\r\n    \r\n    \r\n}\r\nexport {BodyAboutComponent};\r\n\r\nvar style = StyleSheet.create({\r\n  container: {\r\n    flex:1,\r\n    flexDirection: 'column', \r\n    alignItems:'center', \r\n    padding: 5,\r\n    flex: 1, \r\n    backgroundColor: 'white',\r\n    width: 115,\r\n    margin: 5, \r\n    height: 160,\r\n  },\r\n  text: {\r\n    margin: 10,\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    flex: 1\r\n  },\r\n  listContainer: {\r\n    marginTop: 5,\r\n    marginLeft: 10,\r\n    marginRight:10,\r\n    flexDirection: 'row',\r\n    backgroundColor: 'white',\r\n    borderColor: '#aa4fff',\r\n    borderBottomWidth: 0.5\r\n  },\r\n  img: {\r\n    width: 80, \r\n    height: 80, \r\n    borderRadius: 50\r\n  },\r\n  imgList: {\r\n    width: 30, \r\n    height: 30,\r\n  },\r\n  textName: {\r\n    fontSize: 18, \r\n    color: 'grey',\r\n    marginLeft: 10\r\n  },\r\n  centeredView: {\r\n    flex: 1,\r\n    marginTop: 22,\r\n    flexDirection: 'column',\r\n    justifyContent: \"flex-end\"\r\n  },\r\n  modalView: {\r\n    backgroundColor: \"white\",\r\n    alignItems: \"center\",\r\n    shadowColor: \"#000\",\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    //maxheight: Dimensions.get('window').height * 0.3\r\n  },\r\n  imgEmptyStory: {\r\n    width: 100, \r\n    height: 120, \r\n    backgroundColor: '#f2f2f2',\r\n    alignItems: \"center\",\r\n    justifyContent: 'center',\r\n    marginLeft: 10\r\n  },\r\n  image: {\r\n    marginRight: 10,\r\n    width: 70, \r\n    height: 70, \r\n    borderRadius: 50\r\n  },\r\n})"]},"metadata":{},"sourceType":"module"}