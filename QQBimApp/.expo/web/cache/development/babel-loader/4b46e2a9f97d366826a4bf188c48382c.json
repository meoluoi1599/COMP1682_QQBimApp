{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\QQBimApp\\\\QQBimApp\\\\src\\\\admin\\\\adminPages.js\";\nimport * as React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ToastAndroid from \"react-native-web/dist/exports/ToastAndroid\";\nimport { SplashScreen } from \"../users/ScreemFolder/OtherScreen\";\nimport { useFocusEffect } from '@react-navigation/native';\nimport { AntDesign } from '@expo/vector-icons';\n\nfunction adminPages(props) {\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isLoading = _React$useState2[0],\n      setLoading = _React$useState2[1];\n\n  var _React$useState3 = React.useState([]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      dataSource = _React$useState4[0],\n      setDataSource = _React$useState4[1];\n\n  useFocusEffect(React.useCallback(function () {\n    getData();\n  }, []));\n\n  var getData = function getData() {\n    fetch('http://192.168.0.100:19000/get_report').then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      setDataSource(res);\n    }).catch(function (error) {\n      console.log(error);\n    }).finally(function () {\n      setLoading(false);\n    });\n  };\n\n  var deleteReport = function deleteReport(item) {\n    fetch('http://192.168.0.100:19000/delete_report/' + item).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      ToastAndroid.show(\"Delete Report sucucess!\", ToastAndroid.SHORT);\n      getData();\n    }).catch(function (error) {\n      console.log(error);\n    }).finally(function () {\n      setLoading(false);\n    });\n  };\n\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      justifyContent: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, isLoading ? React.createElement(SplashScreen, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 21\n    }\n  }) : React.createElement(FlatList, {\n    data: dataSource,\n    showsHorizontalScrollIndicator: false,\n    keyExtractor: function keyExtractor(item) {\n      return item.report_id.toString();\n    },\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item;\n      return React.createElement(TouchableOpacity, {\n        style: styles.container,\n        onPress: function onPress() {\n          return props.navigation.navigate('detailReport', {\n            item: item\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: {\n          margin: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }\n      }, React.createElement(View, {\n        style: {\n          backgroundColor: item.report_status == 'Wait' ? '#9370db' : 'skyblue',\n          padding: 10,\n          flex: 1,\n          flexDirection: 'row'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 23\n        }\n      }, React.createElement(Text, {\n        style: styles.header,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }\n      }, item.report_title), React.createElement(TouchableOpacity, {\n        style: {\n          alignItems: 'flex-end',\n          width: 40\n        },\n        onPress: function onPress() {\n          return deleteReport(item.report_id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }\n      }, React.createElement(AntDesign, {\n        name: \"close\",\n        size: 24,\n        color: \"black\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 27\n        }\n      }))), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 23\n        }\n      }, React.createElement(Text, {\n        style: styles.textStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 27\n        }\n      }, \"Story Title: \", React.createElement(Text, {\n        style: [styles.textStyle, {\n          fontWeight: 'normal'\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 71\n        }\n      }, item.story_title)), React.createElement(Text, {\n        style: styles.textStyle,\n        numberOfLines: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 27\n        }\n      }, \"Content report: \", React.createElement(Text, {\n        style: [styles.textStyle, {\n          fontWeight: 'normal',\n          textAlign: 'justify'\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 92\n        }\n      }, item.report_content)))));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport { adminPages };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    width: Dimensions.get('window').width\n  },\n  header: {\n    color: 'white',\n    fontSize: 18,\n    flex: 1\n  },\n  textStyle: {\n    fontSize: 15,\n    fontWeight: 'bold'\n  }\n});","map":{"version":3,"sources":["D:/QQBimApp/QQBimApp/src/admin/adminPages.js"],"names":["React","SplashScreen","useFocusEffect","AntDesign","adminPages","props","useState","isLoading","setLoading","dataSource","setDataSource","useCallback","getData","fetch","then","response","json","res","catch","error","console","log","finally","deleteReport","item","ToastAndroid","show","SHORT","flex","justifyContent","report_id","toString","styles","container","navigation","navigate","margin","backgroundColor","report_status","padding","flexDirection","header","report_title","alignItems","width","textStyle","fontWeight","story_title","textAlign","report_content","StyleSheet","create","Dimensions","get","color","fontSize"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;;;;;;;;AAEA,SAASC,YAAT;AACA,SAASC,cAAT,QAA+B,0BAA/B;AACA,SAASC,SAAT,QAA0B,oBAA1B;;AAEA,SAASC,UAAT,CAAqBC,KAArB,EAA4B;AAAA,wBACQL,KAAK,CAACM,QAAN,CAAe,KAAf,CADR;AAAA;AAAA,MACjBC,SADiB;AAAA,MACNC,UADM;;AAAA,yBAEYR,KAAK,CAACM,QAAN,CAAe,EAAf,CAFZ;AAAA;AAAA,MAEjBG,UAFiB;AAAA,MAELC,aAFK;;AAIxBR,EAAAA,cAAc,CACZF,KAAK,CAACW,WAAN,CAAkB,YAAM;AACxBC,IAAAA,OAAO;AACR,GAFC,EAEA,EAFA,CADY,CAAd;;AAIA,MAAMA,OAAO,GAAC,SAARA,OAAQ,GAAK;AACjBC,IAAAA,KAAK,CAAC,uCAAD,CAAL,CACCC,IADD,CACO,UAACC,QAAD;AAAA,aAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,KADP,EAECF,IAFD,CAEQ,UAACG,GAAD,EAAS;AACbP,MAAAA,aAAa,CAACO,GAAD,CAAb;AACH,KAJD,EAKCC,KALD,CAKQ,UAACC,KAAD,EAAW;AACfC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KAPD,EAQCG,OARD,CAQS,YAAM;AACXd,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH,KAVD;AAWD,GAZD;;AAcA,MAAMe,YAAY,GAAC,SAAbA,YAAa,CAACC,IAAD,EAAS;AAC1BX,IAAAA,KAAK,CAAC,8CAA8CW,IAA/C,CAAL,CACCV,IADD,CACO,UAACC,QAAD;AAAA,aAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,KADP,EAECF,IAFD,CAEQ,UAACG,GAAD,EAAS;AACfQ,MAAAA,YAAY,CAACC,IAAb,CAAkB,yBAAlB,EAA6CD,YAAY,CAACE,KAA1D;AACAf,MAAAA,OAAO;AACR,KALD,EAMCM,KAND,CAMQ,UAACC,KAAD,EAAW;AACfC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KARD,EASCG,OATD,CASS,YAAM;AACXd,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH,KAXD;AAYD,GAbD;;AAcA,SACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAACoB,MAAAA,IAAI,EAAE,CAAP;AAAUC,MAAAA,cAAc,EAAE;AAA1B,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGtB,SAAS,GAAE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAF,GACN,oBAAC,QAAD;AACI,IAAA,IAAI,EAAEE,UADV;AAEI,IAAA,8BAA8B,EAAE,KAFpC;AAGI,IAAA,YAAY,EAAE,sBAAAe,IAAI;AAAA,aAAIA,IAAI,CAACM,SAAL,CAAeC,QAAf,EAAJ;AAAA,KAHtB;AAII,IAAA,UAAU,EAAE;AAAA,UAAEP,IAAF,QAAEA,IAAF;AAAA,aACZ,oBAAC,gBAAD;AAAkB,QAAA,KAAK,EAAEQ,MAAM,CAACC,SAAhC;AAA2C,QAAA,OAAO,EAAE;AAAA,iBAAM5B,KAAK,CAAC6B,UAAN,CAAiBC,QAAjB,CAA0B,cAA1B,EAA0C;AAACX,YAAAA,IAAI,EAAEA;AAAP,WAA1C,CAAN;AAAA,SAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAACY,UAAAA,MAAM,EAAE;AAAT,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAACC,UAAAA,eAAe,EAAEb,IAAI,CAACc,aAAL,IAAsB,MAAtB,GAA6B,SAA7B,GAAwC,SAA1D;AAAqEC,UAAAA,OAAO,EAAE,EAA9E;AAAkFX,UAAAA,IAAI,EAAE,CAAxF;AAA2FY,UAAAA,aAAa,EAAE;AAA1G,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAER,MAAM,CAACS,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA6BjB,IAAI,CAACkB,YAAlC,CADF,EAEE,oBAAC,gBAAD;AAAkB,QAAA,KAAK,EAAE;AAACC,UAAAA,UAAU,EAAE,UAAb;AAAyBC,UAAAA,KAAK,EAAE;AAAhC,SAAzB;AAA8D,QAAA,OAAO,EAAE;AAAA,iBAAKrB,YAAY,CAACC,IAAI,CAACM,SAAN,CAAjB;AAAA,SAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AAAW,QAAA,IAAI,EAAC,OAAhB;AAAwB,QAAA,IAAI,EAAE,EAA9B;AAAkC,QAAA,KAAK,EAAC,OAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAFF,CADF,EAOE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEE,MAAM,CAACa,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAA4C,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE,CAACb,MAAM,CAACa,SAAR,EAAmB;AAACC,UAAAA,UAAU,EAAE;AAAb,SAAnB,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA0DtB,IAAI,CAACuB,WAA/D,CAA5C,CADJ,EAEI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEf,MAAM,CAACa,SAApB;AAA+B,QAAA,aAAa,EAAE,CAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAiE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE,CAACb,MAAM,CAACa,SAAR,EAAmB;AAACC,UAAAA,UAAU,EAAE,QAAb;AAAuBE,UAAAA,SAAS,EAAE;AAAlC,SAAnB,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAgFxB,IAAI,CAACyB,cAArF,CAAjE,CAFJ,CAPF,CADJ,CADY;AAAA,KAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFN,CADF;AA2BH;;AACD,SAAQ7C,UAAR;AAEA,IAAM4B,MAAM,GAAGkB,UAAU,CAACC,MAAX,CAAkB;AAC/BlB,EAAAA,SAAS,EAAE;AACTL,IAAAA,IAAI,EAAE,CADG;AAETgB,IAAAA,KAAK,EAAEQ,UAAU,CAACC,GAAX,CAAe,QAAf,EAAyBT;AAFvB,GADoB;AAK/BH,EAAAA,MAAM,EAAE;AACNa,IAAAA,KAAK,EAAE,OADD;AAENC,IAAAA,QAAQ,EAAE,EAFJ;AAGN3B,IAAAA,IAAI,EAAE;AAHA,GALuB;AAU/BiB,EAAAA,SAAS,EAAE;AACTU,IAAAA,QAAQ,EAAE,EADD;AAETT,IAAAA,UAAU,EAAE;AAFH;AAVoB,CAAlB,CAAf","sourcesContent":["import * as React from 'react';\r\nimport { View, Text, StyleSheet, FlatList, TouchableOpacity, Dimensions, ToastAndroid} from 'react-native';\r\nimport { SplashScreen } from '../users/ScreemFolder/OtherScreen';\r\nimport { useFocusEffect } from '@react-navigation/native';\r\nimport { AntDesign } from '@expo/vector-icons'; \r\n\r\nfunction adminPages (props) {\r\n    const [isLoading, setLoading] = React.useState(false);\r\n    const [dataSource, setDataSource ]= React.useState([]);\r\n\r\n    useFocusEffect(\r\n      React.useCallback(() => {\r\n      getData();\r\n    },[]));\r\n    const getData=()=> {\r\n      fetch('http://192.168.0.100:19000/get_report')\r\n      .then ((response) => response.json())\r\n      .then ( (res) => { \r\n          setDataSource(res);\r\n      })\r\n      .catch ((error) => {\r\n          console.log(error);\r\n      })\r\n      .finally(() => {\r\n          setLoading(false) \r\n      });\r\n    }\r\n\r\n    const deleteReport=(item)=> {\r\n      fetch('http://192.168.0.100:19000/delete_report/' + item)\r\n      .then ((response) => response.json())\r\n      .then ( (res) => { \r\n        ToastAndroid.show(\"Delete Report sucucess!\", ToastAndroid.SHORT);\r\n        getData();\r\n      })\r\n      .catch ((error) => {\r\n          console.log(error);\r\n      })\r\n      .finally(() => {\r\n          setLoading(false) \r\n      });\r\n    }\r\n    return (\r\n      <View style={{flex: 1, justifyContent: 'center'}}>\r\n        {isLoading? <SplashScreen/> : (\r\n            <FlatList\r\n                data={dataSource}\r\n                showsHorizontalScrollIndicator={false}\r\n                keyExtractor={item => item.report_id.toString()}\r\n                renderItem={({item}) => (\r\n                <TouchableOpacity style={styles.container} onPress={() => props.navigation.navigate('detailReport', {item: item})}>\r\n                    <View style={{margin: 10}}>\r\n                      <View style={{backgroundColor: item.report_status == 'Wait'?'#9370db': 'skyblue', padding: 10, flex: 1, flexDirection: 'row'}}>\r\n                        <Text style={styles.header}>{item.report_title}</Text>\r\n                        <TouchableOpacity style={{alignItems: 'flex-end', width: 40}} onPress={()=> deleteReport(item.report_id)}>\r\n                          <AntDesign name=\"close\" size={24} color=\"black\"/>\r\n                        </TouchableOpacity>\r\n                      </View>\r\n                      <View>\r\n                          <Text style={styles.textStyle}>Story Title: <Text style={[styles.textStyle, {fontWeight: 'normal'}]}>{item.story_title}</Text></Text>\r\n                          <Text style={styles.textStyle} numberOfLines={8}>Content report: <Text style={[styles.textStyle, {fontWeight: 'normal', textAlign: 'justify'}]}>{item.report_content}</Text></Text>\r\n                      </View>\r\n                    </View>\r\n                </TouchableOpacity>        \r\n            )}\r\n        />\r\n        )}\r\n      </View>\r\n    );\r\n}\r\nexport {adminPages};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1, \r\n    width: Dimensions.get('window').width,\r\n  },\r\n  header: {\r\n    color: 'white',\r\n    fontSize: 18,\r\n    flex: 1,\r\n  },\r\n  textStyle: {\r\n    fontSize: 15,\r\n    fontWeight: 'bold',\r\n  }\r\n});"]},"metadata":{},"sourceType":"module"}