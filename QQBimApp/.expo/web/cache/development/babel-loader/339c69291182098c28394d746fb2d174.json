{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\QQBimApp\\\\QQBimApp\\\\src\\\\users\\\\ScreemFolder\\\\OtherScreen\\\\HomeScreen.js\";\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { FamousReader } from \"../../Components/HomeScreen\";\nimport { Category } from \"../../Components/CategoryComponent\";\nimport Ionicons from \"@expo/vector-icons/Ionicons\";\nimport { useFocusEffect } from '@react-navigation/native';\n\nfunction HomeScreen(props) {\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      dataSource = _React$useState2[0],\n      setDataSource = _React$useState2[1];\n\n  var _React$useState3 = React.useState(true),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      isLoading = _React$useState4[0],\n      setLoading = _React$useState4[1];\n\n  var _React$useState5 = React.useState(1),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      page = _React$useState6[0],\n      setPages = _React$useState6[1];\n\n  var _React$useState7 = React.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      endData = _React$useState8[0],\n      setEndData = _React$useState8[1];\n\n  var _React$useState9 = React.useState(''),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      value = _React$useState10[0],\n      setValue = _React$useState10[1];\n\n  var data = [{\n    id: \"1\"\n  }];\n  React.useEffect(function () {\n    fetch('http://192.168.0.100:19000/' + page).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      setDataSource([].concat(_toConsumableArray(dataSource), _toConsumableArray(res)));\n      setPages(page + 1);\n    }).catch(function (error) {\n      console.log(error);\n    }).finally(function () {\n      setLoading(false);\n    });\n  }, []);\n  useFocusEffect(React.useCallback(function () {\n    loadMoreData();\n    return function () {\n      console.log('un');\n    };\n  }, []));\n\n  function loadMoreData() {\n    fetch('http://192.168.0.100:19000/' + page).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      if (res.length != 0) {\n        setDataSource([].concat(_toConsumableArray(dataSource), _toConsumableArray(res)));\n        setPages(page + 1);\n      } else {\n        setEndData(true);\n      }\n    }).catch(function (error) {\n      console.log(error);\n    }).finally(function () {\n      return setLoading(false);\n    });\n  }\n\n  var rederFooter = function rederFooter() {\n    return isLoading ? React.createElement(View, {\n      style: {\n        alignItems: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }\n    }, endData ? React.createElement(Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 19\n      }\n    }, \"The end of data\") : React.createElement(ActivityIndicator, {\n      size: \"large\",\n      color: \"#C031C7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 48\n      }\n    })) : null;\n  };\n\n  var rederHeader = function rederHeader() {\n    return React.createElement(View, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      style: style.text,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, \"List Story\"));\n  };\n\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      backgroundColor: 'white'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, React.createElement(StatusBar, {\n    hidden: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }), React.createElement(View, {\n    style: {\n      flex: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: {\n      height: 80,\n      padding: 10,\n      alignItems: 'center',\n      backgroundColor: '#8a2be2',\n      flexDirection: 'row',\n      justifyContent: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: {\n      flex: 1\n    },\n    onPress: function onPress() {\n      return props.navigation.toggleDrawer();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, React.createElement(Ionicons, {\n    name: \"md-menu\",\n    size: 50,\n    color: 'white',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return props.navigation.navigate('SearchScreen');\n    },\n    style: {\n      backgroundColor: 'white',\n      alignItems: 'center',\n      flexDirection: 'row',\n      flex: 5,\n      borderRadius: 40\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, React.createElement(Ionicons, {\n    name: \"md-search\",\n    size: 30,\n    style: {\n      marginLeft: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, \"Search\")), React.createElement(TouchableOpacity, {\n    style: {\n      flex: 1\n    },\n    onPress: function onPress() {\n      return props.navigation.navigate('AboutUser');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, React.createElement(Ionicons, {\n    name: \"ios-person\",\n    size: 40,\n    color: 'white',\n    style: {\n      marginLeft: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }))), React.createElement(FlatList, {\n    data: data,\n    renderItem: function renderItem(item) {\n      return React.createElement(React.Fragment, null, React.createElement(Category, _extends({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 15\n        }\n      })), React.createElement(FamousReader, _extends({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 15\n        }\n      })), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 15\n        }\n      }, React.createElement(FlatList, {\n        data: dataSource,\n        keyExtractor: function keyExtractor(item) {\n          return item.story_id.toString();\n        },\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item;\n          return React.createElement(TouchableOpacity, {\n            onPress: function onPress() {\n              return props.navigation.navigate('DetailStory', {\n                item: item\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 21\n            }\n          }, React.createElement(View, {\n            style: style.container,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 25\n            }\n          }, React.createElement(View, {\n            style: {\n              flex: 1\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 27\n            }\n          }, React.createElement(Image, {\n            style: {\n              width: 100,\n              height: 120\n            },\n            source: {\n              uri: item.story_img\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 29\n            }\n          })), React.createElement(View, {\n            style: {\n              flex: 2\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 27\n            }\n          }, React.createElement(Text, {\n            numberOfLines: 1,\n            style: {\n              fontWeight: 'bold',\n              fontSize: 18\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 29\n            }\n          }, item.story_title), React.createElement(Text, {\n            numberOfLines: 1,\n            style: {\n              fontWeight: 'bold'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 29\n            }\n          }, \"Status: \", React.createElement(Text, {\n            style: {\n              fontWeight: 'normal'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 90\n            }\n          }, item.story_status)), React.createElement(Text, {\n            numberOfLines: 1,\n            style: {\n              fontWeight: 'bold'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 29\n            }\n          }, \"Votes: \", React.createElement(Text, {\n            style: {\n              fontWeight: 'normal'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 89\n            }\n          }, item.vote)), React.createElement(Text, {\n            numberOfLines: 3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 29\n            }\n          }, item.story_description, \" \"))));\n        },\n        showsHorizontalScrollIndicator: false,\n        onEndReachedThreshold: 0,\n        ListHeaderComponent: rederHeader,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 17\n        }\n      })));\n    },\n    onEndReached: loadMoreData,\n    ListFooterComponent: rederFooter,\n    showsVerticalScrollIndicator: false,\n    keyExtractor: function keyExtractor(item) {\n      return item.id;\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport { HomeScreen };\nvar style = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'row',\n    padding: 10,\n    backgroundColor: 'white',\n    width: Dimensions.get('window').width,\n    marginTop: 10,\n    height: 140,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  text: {\n    margin: 10,\n    fontSize: 20,\n    fontWeight: 'bold'\n  }\n});","map":{"version":3,"sources":["D:/QQBimApp/QQBimApp/src/users/ScreemFolder/OtherScreen/HomeScreen.js"],"names":["React","FamousReader","Category","Ionicons","useFocusEffect","HomeScreen","props","useState","dataSource","setDataSource","isLoading","setLoading","page","setPages","endData","setEndData","value","setValue","data","id","useEffect","fetch","then","response","json","res","catch","error","console","log","finally","useCallback","loadMoreData","length","rederFooter","alignItems","rederHeader","style","text","flex","backgroundColor","height","padding","flexDirection","justifyContent","navigation","toggleDrawer","navigate","borderRadius","marginLeft","item","story_id","toString","container","width","uri","story_img","fontWeight","fontSize","story_title","story_status","vote","story_description","StyleSheet","create","Dimensions","get","marginTop","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","margin"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { \n  View, \n  Text,\n  FlatList, \n  StyleSheet, StatusBar,\n  Image, \n  TouchableOpacity,\n  Dimensions,\n  ActivityIndicator,\n  TextInput\n} from 'react-native';\nimport { FamousReader} from '../../Components/HomeScreen';\nimport {Category} from '../../Components/CategoryComponent';\nimport  Ionicons  from 'react-native-vector-icons/Ionicons';\nimport { useFocusEffect } from '@react-navigation/native';\n\nfunction HomeScreen(props) {\n  const [dataSource, setDataSource ]= React.useState([]);\n  const [isLoading, setLoading] = React.useState(true);\n  const [page, setPages] = React.useState(1);\n  const [endData, setEndData]  = React.useState(false);\n  const [value, setValue] = React.useState('');\n  const data = [\n    {id:\"1\"}\n  ]\n  \n  React.useEffect(() => {\n    // fetch('http://10.0.2.2:5000/')\n    fetch('http://192.168.0.100:19000/' + page)\n    .then ((response) => response.json())\n    .then ( (res) => { \n      setDataSource([...dataSource, ...res]);\n      setPages(page+1);\n    })\n    .catch ((error) => {\n      console.log(error);\n    })\n    .finally(() => {\n      setLoading(false) \n    });\n  },[]);\n\n  useFocusEffect(\n    React.useCallback(() => {\n      loadMoreData()\n      return () => {\n        console.log('un')\n      };\n    }, [])\n  );\n\n  function loadMoreData(){\n    fetch('http://192.168.0.100:19000/' + page)\n    .then ((response) => response.json())\n    .then ( (res) => { \n      if(res.length != 0){\n        setDataSource([...dataSource, ...res]);\n        setPages(page+1);\n\n      } else {\n        setEndData(true);\n      }\n    })\n    .catch ((error) => {\n      console.log(error);\n    })\n    .finally(() => setLoading(false));\n  }\n  const rederFooter=()=> {\n    return(\n      isLoading? \n      <View style={{alignItems: \"center\"}}>\n        {endData? <Text>The end of data</Text>:<ActivityIndicator size=\"large\" color=\"#C031C7\" />}\n      </View>: null\n    )\n  }\n  const rederHeader=()=> {\n    return(\n      <View><Text style={style.text}>List Story</Text></View>\n    )\n  }\n  \n  return (\n    <View style={{flex: 1, backgroundColor: 'white'}}> \n    <StatusBar hidden/>\n      <View style={{flex: 10}}>\n        <View style={{height:80, padding: 10, alignItems:'center', backgroundColor:'#8a2be2', flexDirection:'row', justifyContent: 'center'}}>    \n            <TouchableOpacity style={{flex:1}} onPress={()=> props.navigation.toggleDrawer()}>\n                <Ionicons name='md-menu' size={50} color={'white'}/>\n            </TouchableOpacity>\n            <TouchableOpacity onPress={()=> props.navigation.navigate('SearchScreen')}\n            style={{backgroundColor: 'white', alignItems:'center',flexDirection:'row', flex: 5, borderRadius:40}}>\n                <Ionicons name='md-search' size={30} style={{marginLeft:10}}/>\n                <Text>Search</Text>\n            </TouchableOpacity>\n            <TouchableOpacity style={{flex:1}} onPress={()=> props.navigation.navigate('AboutUser')}>\n                <Ionicons name='ios-person' size={40} color={'white'} style={{marginLeft:10}}/>\n            </TouchableOpacity>\n        </View>\n        <FlatList\n          data={data}\n          renderItem={(item) => (\n            <>\n              <Category {...props}/> \n              <FamousReader {...props}/>\n              <View>\n                <FlatList\n                  data={dataSource}\n                  keyExtractor= {item => item.story_id.toString()}\n                  renderItem={({ item }) => (\n                    <TouchableOpacity onPress={() => props.navigation.navigate('DetailStory', {item: item})}>         \n                        <View style={style.container}>\n                          <View style={{flex: 1}}>\n                            <Image style={{width: 100, height: 120}}\n                              source= {{uri: item.story_img}}\n                            />\n                          </View>\n                          <View style={{flex: 2}}>\n                            <Text  numberOfLines={1} style={{fontWeight: 'bold', fontSize: 18}}>{item.story_title}</Text>\n                            <Text numberOfLines={1} style={{fontWeight: 'bold'}}>Status: <Text style={{fontWeight: 'normal'}}>{item.story_status}</Text></Text>\n                            <Text numberOfLines={1} style={{fontWeight: 'bold'}}>Votes: <Text style={{fontWeight: 'normal'}}>{item.vote}</Text></Text>\n                            <Text numberOfLines={3}>{item.story_description} </Text>\n                          </View>\n                        </View>\n                    </TouchableOpacity>\n                  )}\n                  showsHorizontalScrollIndicator={false}\n                  onEndReachedThreshold={0}\n                  ListHeaderComponent={rederHeader}\n                />\n              </View>\n            </>\n          )}\n          onEndReached={loadMoreData}\n          ListFooterComponent={rederFooter}\n          showsVerticalScrollIndicator = {false}\n          keyExtractor={item => item.id}\n          />\n      </View>\n    </View>\n  )\n  \n}\nexport {HomeScreen};\nvar style = StyleSheet.create({\n  container: {\n    flex:1,\n    flexDirection: 'row', \n    padding: 10,\n    backgroundColor: 'white',\n    width: Dimensions.get('window').width, \n    marginTop: 10,\n    height: 140,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n  },\n  text: {\n    margin: 10,\n    fontSize: 20,\n    fontWeight: 'bold',\n  }\n})\n\n"]},"metadata":{},"sourceType":"module"}