{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\QQBimApp\\\\QQBimApp\\\\src\\\\ScreemFolder\\\\StoryScreen\\\\ReadingScreen.js\";\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Share from \"react-native-web/dist/exports/Share\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { SplashScreen } from \"../../ScreemFolder/OtherScreen\";\nimport { MaterialCommunityIcons, Ionicons, AntDesign } from '@expo/vector-icons';\nimport { ReadingHeader } from \"../../Components/HeaderComponent\";\n\nfunction ReadingScreen(props) {\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      dataSource = _React$useState2[0],\n      setDataSource = _React$useState2[1];\n\n  var _React$useState3 = React.useState(true),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      isLoading = _React$useState4[0],\n      setLoading = _React$useState4[1];\n\n  var _React$useState5 = React.useState(props.route.params.item.vote),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      vote = _React$useState6[0],\n      setVote = _React$useState6[1];\n\n  var _React$useState7 = React.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      voting = _React$useState8[0],\n      setVoting = _React$useState8[1];\n\n  var _React$useState9 = React.useState(props.route.params.chapter_id),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      chapter = _React$useState10[0],\n      setChapter = _React$useState10[1];\n\n  var _React$useState11 = React.useState(false),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      modalVisible = _React$useState12[0],\n      setModalVisible = _React$useState12[1];\n\n  var _React$useState13 = React.useState([]),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      comment = _React$useState14[0],\n      setComment = _React$useState14[1];\n\n  var _React$useState15 = React.useState(''),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      contentComent = _React$useState16[0],\n      setContentComent = _React$useState16[1];\n\n  var _React$useState17 = React.useState([]),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      userData = _React$useState18[0],\n      setUserData = _React$useState18[1];\n\n  var getData = function getData() {\n    return _regeneratorRuntime.async(function getData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            try {\n              AsyncStorage.getItem('user').then(function (value) {\n                var jsonValue = JSON.parse(value);\n                setUserData(jsonValue);\n              });\n            } catch (e) {\n              console.log(e);\n            }\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  React.useEffect(function () {\n    props.navigation.dangerouslyGetParent().setOptions({\n      tabBarVisible: false\n    });\n    getData();\n    fetch('http://192.168.1.6:19000/chapter_content/' + props.route.params.item.story_id + '/' + chapter).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      setDataSource(res);\n    }).catch(function (error) {\n      console.log(error);\n    }).finally(function () {\n      setLoading(false);\n    });\n  }, [100]);\n\n  function sendVote() {\n    fetch('http://192.168.1.6:19000/vote/' + props.route.params.item.story_id + '/' + vote).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      console.log('voting:' + res);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  var onShare = function onShare() {\n    var result;\n    return _regeneratorRuntime.async(function onShare$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(Share.share({\n              message: 'This story is very good'\n            }));\n\n          case 3:\n            result = _context2.sent;\n\n            if (result.action === Share.sharedAction) {\n              if (result.activityType) {} else {}\n            } else if (result.action === Share.dismissedAction) {}\n\n            _context2.next = 10;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2[\"catch\"](0);\n            alert(_context2.t0.message);\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  var getComment = function getComment() {\n    fetch('http://192.168.1.6:19000/get_comment/' + props.route.params.item.story_id).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      setComment(res);\n    }).catch(function (error) {\n      console.log(error);\n    }).finally(function () {\n      setLoading(false);\n    });\n  };\n\n  var submitComment = function submitComment() {\n    fetch('http://192.168.1.6:19000/add_comment', {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        'user_id': userData.user_ids,\n        'comment_content': contentComent,\n        'story_id': props.route.params.item.story_id\n      })\n    }).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      setContentComent('');\n      setModalVisible(false);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  function ListEmpty() {\n    return React.createElement(View, {\n      style: styles.MainContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      style: {\n        textAlign: 'center',\n        justifyContent: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }\n    }, \"There are no content\"));\n  }\n\n  ;\n  return React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }, React.createElement(ReadingHeader, _extends({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  })), React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, isLoading ? React.createElement(SplashScreen, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 23\n    }\n  }) : React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, React.createElement(FlatList, {\n    data: dataSource,\n    keyExtractor: function keyExtractor(item) {\n      return item.chapter_id.toString();\n    },\n    showsHorizontalScrollIndicator: false,\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item;\n      return React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: {\n          padding: 20,\n          fontSize: 15,\n          textAlign: 'justify'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 25\n        }\n      }, item.chapter_content), React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 17\n        }\n      }, userData.user_id));\n    },\n    ListEmptyComponent: ListEmpty,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 15\n    }\n  }))), React.createElement(View, {\n    style: styles.tabView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.tabContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 11\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setChapter(chapter - 1);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }, React.createElement(AntDesign, {\n    name: \"arrowleft\",\n    size: 24,\n    color: '#aa4fff',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 15\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      setVoting(!voting);\n      setVote(voting ? vote - 1 : vote + 1);\n      sendVote();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }, React.createElement(Ionicons, {\n    name: voting ? 'md-star' : 'md-star-outline',\n    size: 24,\n    color: '#aa4fff',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 17\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      setModalVisible(true);\n      getComment();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, React.createElement(MaterialCommunityIcons, {\n    name: \"comment-outline\",\n    size: 24,\n    color: '#aa4fff',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 17\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: onShare,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }\n  }, React.createElement(MaterialCommunityIcons, {\n    name: \"share-variant\",\n    size: 24,\n    color: '#aa4fff',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 17\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setChapter(chapter + 1);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }\n  }, React.createElement(AntDesign, {\n    name: \"arrowright\",\n    size: 24,\n    color: '#aa4fff',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 15\n    }\n  })))), React.createElement(Modal, {\n    animationType: \"slide\",\n    transparent: true,\n    visible: modalVisible,\n    onRequestClose: function onRequestClose() {\n      setModalVisible(!modalVisible);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.centeredView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: styles.modalView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.HeaderModal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 15\n    }\n  }, React.createElement(Text, {\n    style: styles.HeaderText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 17\n    }\n  }, \"Comment\"), React.createElement(TouchableOpacity, {\n    style: styles.close,\n    onPress: function onPress() {\n      setModalVisible(!modalVisible);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 17\n    }\n  }, React.createElement(AntDesign, {\n    name: \"close\",\n    size: 24,\n    color: \"black\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 21\n    }\n  }))), React.createElement(View, {\n    style: styles.comment,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 15\n    }\n  }, React.createElement(FlatList, {\n    data: comment,\n    keyExtractor: function keyExtractor(item) {\n      return item.comment_id.toString();\n    },\n    showsHorizontalScrollIndicator: false,\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item;\n      return React.createElement(View, {\n        style: styles.commentContent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 23\n        }\n      }, React.createElement(Image, {\n        style: styles.commentImg,\n        source: {\n          uri: item.user_avatar\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 27\n        }\n      }), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 27\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 29\n        }\n      }, item.fullname), React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 29\n        }\n      }, item.comment_content)));\n    },\n    ListEmptyComponent: ListEmpty,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 17\n    }\n  })), React.createElement(View, {\n    style: {\n      justifyContent: 'flex-end',\n      backgroundColor: '#aa4fff',\n      width: '100%',\n      height: 50,\n      flexDirection: 'row',\n      paddingRight: 5,\n      marginBottom: 30\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 15\n    }\n  }, React.createElement(TextInput, {\n    style: {\n      height: 40,\n      margin: 5,\n      backgroundColor: 'white',\n      width: '80%'\n    },\n    autoCorrect: false,\n    value: contentComent,\n    onSubmitEditing: function onSubmitEditing() {\n      return submitComment();\n    },\n    onChangeText: function onChangeText(text) {\n      return setContentComent(text);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 17\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return submitComment();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 17\n    }\n  }, React.createElement(Ionicons, {\n    name: \"md-send\",\n    size: 45,\n    color: \"white\",\n    style: {\n      marginLeft: 10,\n      marginRight: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 19\n    }\n  })))))));\n}\n\nexport { ReadingScreen };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'flex-start',\n    flexDirection: 'column',\n    alignItems: 'center',\n    borderColor: '#8a2be2'\n  },\n  tabView: {\n    justifyContent: 'flex-end',\n    backgroundColor: '#aa4fff',\n    width: '100%',\n    height: 40,\n    paddingRight: 5\n  },\n  tabContainer: {\n    flex: 1,\n    height: 40,\n    width: Dimensions.get('window').width,\n    backgroundColor: 'white',\n    alignItems: 'center',\n    justifyContent: 'space-around',\n    flexDirection: 'row'\n  },\n  modalView: {\n    backgroundColor: \"white\",\n    shadowColor: \"#000\",\n    width: Dimensions.get('window').width,\n    height: Dimensions.get('window').height\n  },\n  HeaderModal: {\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    flexDirection: 'row',\n    backgroundColor: '#EEEEEE',\n    height: 40,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  HeaderText: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginLeft: 10,\n    flex: 1\n  },\n  close: {\n    flex: -1,\n    marginRight: 10\n  },\n  comment: {\n    padding: 5,\n    flex: 3\n  },\n  commentImg: {\n    width: 60,\n    height: 60,\n    borderRadius: 50,\n    marginLeft: 10,\n    marginRight: 10\n  },\n  commentContent: {\n    flexDirection: 'row',\n    margin: 5\n  }\n});","map":{"version":3,"sources":["D:/QQBimApp/QQBimApp/src/ScreemFolder/StoryScreen/ReadingScreen.js"],"names":["React","SplashScreen","MaterialCommunityIcons","Ionicons","AntDesign","ReadingHeader","ReadingScreen","props","useState","dataSource","setDataSource","isLoading","setLoading","route","params","item","vote","setVote","voting","setVoting","chapter_id","chapter","setChapter","modalVisible","setModalVisible","comment","setComment","contentComent","setContentComent","userData","setUserData","getData","AsyncStorage","getItem","then","value","jsonValue","JSON","parse","e","console","log","useEffect","navigation","dangerouslyGetParent","setOptions","tabBarVisible","fetch","story_id","response","json","res","catch","error","finally","sendVote","onShare","Share","share","message","result","action","sharedAction","activityType","dismissedAction","alert","getComment","submitComment","method","headers","Accept","body","stringify","user_ids","ListEmpty","styles","MainContainer","textAlign","justifyContent","container","flex","toString","padding","fontSize","chapter_content","user_id","tabView","tabContainer","centeredView","modalView","HeaderModal","HeaderText","close","comment_id","commentContent","commentImg","uri","user_avatar","fontWeight","fullname","comment_content","backgroundColor","width","height","flexDirection","paddingRight","marginBottom","margin","text","marginLeft","marginRight","StyleSheet","create","alignItems","borderColor","Dimensions","get","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","borderRadius"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { StyleSheet, Dimensions, View, TouchableOpacity, Text, FlatList,Share,Modal, Image, TextInput } from 'react-native';\nimport {SplashScreen} from '../../ScreemFolder/OtherScreen';\nimport { MaterialCommunityIcons,Ionicons, AntDesign} from '@expo/vector-icons';\nimport {ReadingHeader} from  '../../Components/HeaderComponent'\n\nfunction ReadingScreen(props) {\n  const [dataSource, setDataSource ]= React.useState([]);\n  const [isLoading, setLoading] = React.useState(true);\n  const [vote, setVote] = React.useState(props.route.params.item.vote);\n  const [voting, setVoting] = React.useState(false);\n  const [chapter, setChapter] = React.useState(props.route.params.chapter_id);\n  const [modalVisible, setModalVisible] = React.useState(false);\n  const [comment, setComment ]= React.useState([]);\n  const [contentComent, setContentComent] = React.useState('');\n  const [userData, setUserData] = React.useState([]);\n\n  const getData = async () => {\n    try {\n      AsyncStorage.getItem('user').then((value) => {\n        const jsonValue = JSON.parse(value);\n        setUserData(jsonValue);\n      })\n    } catch(e) {\n      console.log(e)\n    }\n  }\n\n  React.useEffect(() => {\n    props.navigation.dangerouslyGetParent().setOptions({\n      tabBarVisible: false\n    });\n    getData();\n    // fetch('http://10.0.2.2:5000/')\n    fetch('http://192.168.1.6:19000/chapter_content/' + props.route.params.item.story_id + '/' + chapter)\n    .then ((response) => response.json())\n    .then ( (res) => { \n      setDataSource(res);\n    })\n    .catch ((error) => {\n      console.log(error);\n    })\n    .finally(() => {\n      setLoading(false) \n    });\n  },[100]);\n\n  function sendVote() {\n    fetch('http://192.168.1.6:19000/vote/' + props.route.params.item.story_id + '/' + vote)\n    .then ((response) => response.json())\n    .then ( (res) => { \n        console.log('voting:' + res); \n    })\n    .catch ((error) => {\n        console.log(error);\n    })\n  }\n\n  const onShare = async () => {\n    try {\n      const result = await Share.share({\n        message:\n          'This story is very good',\n      });\n      if (result.action === Share.sharedAction) {\n        if (result.activityType) {\n          // shared with activity type of result.activityType\n        } else {\n          // shared\n        }\n      } else if (result.action === Share.dismissedAction) {\n        // dismissed\n      }\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n\n  const getComment = () => {\n    fetch('http://192.168.1.6:19000/get_comment/' + props.route.params.item.story_id)\n    .then ((response) => response.json())\n    .then ( (res) => { \n      setComment(res);\n    })\n    .catch ((error) => {\n      console.log(error);\n    })\n    .finally(() => {\n      setLoading(false) \n    });\n  }\n\n  const submitComment=()=> {\n    fetch('http://192.168.1.6:19000/add_comment' , {\n          method: 'POST',\n          headers: {\n              Accept: 'application/json',\n              'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            'user_id': userData.user_ids,\n            'comment_content': contentComent,\n            'story_id': props.route.params.item.story_id\n          })\n      })\n      .then ((response) => response.json())\n      .then ( (res) => { \n        setContentComent('');\n        setModalVisible(false);\n      })\n      .catch ((error) => {\n        console.log(error);\n      })\n  } \n\n  function ListEmpty() {\n    return (\n      //View to show when list is empty\n      <View style={styles.MainContainer}>\n        <Text style={{ textAlign: 'center', justifyContent: 'center' }}>There are no content</Text>\n      </View>\n    );\n  };\n  \n    return (\n      <View style={styles.container}>\n        <ReadingHeader {...props}/>\n        <View style={{flex: 1}}>\n          {isLoading? <SplashScreen/>:(\n            <View>\n              <FlatList\n                data={dataSource}\n                keyExtractor= {item => item.chapter_id.toString()}\n                showsHorizontalScrollIndicator={false}\n                renderItem={({ item }) => (\n                    <View>         \n                        <Text style={{ padding: 20, fontSize: 15, textAlign: 'justify'}}>{item.chapter_content}</Text>\n                <Text>{userData.user_id}</Text>\n                    </View>\n                )}  \n                ListEmptyComponent={ListEmpty}\n              /> \n            </View>\n          )}\n        </View>\n        <View style={styles.tabView}>\n          <View style={styles.tabContainer}>\n            <TouchableOpacity onPress={()=> setChapter(chapter-1)}>\n              <AntDesign name=\"arrowleft\" size={24} color={'#aa4fff'} />\n            </TouchableOpacity>\n            <TouchableOpacity onPress={() => {setVoting(!voting); setVote(voting?vote-1:vote+1); sendVote();}}>\n                <Ionicons \n                    name= {voting?'md-star':'md-star-outline'}\n                    size={24} \n                    color={'#aa4fff'} \n                />\n            </TouchableOpacity>\n            <TouchableOpacity \n              onPress={() => {\n                setModalVisible(true);\n                getComment();\n              }}>\n                <MaterialCommunityIcons \n                    name=\"comment-outline\" \n                    size={24} \n                    color={'#aa4fff'} \n                />\n            </TouchableOpacity>\n            <TouchableOpacity onPress={onShare}>\n                <MaterialCommunityIcons name=\"share-variant\" size={24} color={'#aa4fff'} />\n            </TouchableOpacity>\n            <TouchableOpacity onPress={()=> setChapter(chapter+1)}>\n              <AntDesign name=\"arrowright\" size={24} color={'#aa4fff'} />\n            </TouchableOpacity>\n          </View>\n        </View>\n        <Modal\n          animationType=\"slide\"\n          transparent={true}\n          visible={modalVisible}\n          onRequestClose={() => {\n            setModalVisible(!modalVisible);\n          }}\n        >\n          <View style={styles.centeredView}>\n            <View style={styles.modalView}>\n              <View style={styles.HeaderModal}>\n                <Text style={styles.HeaderText}>Comment</Text>\n                <TouchableOpacity\n                    style={styles.close}\n                    onPress={() => {\n                      setModalVisible(!modalVisible);\n                    }}\n                  >\n                    <AntDesign name=\"close\" size={24} color=\"black\" />\n                </TouchableOpacity>\n              </View>\n              <View style={styles.comment}>\n                <FlatList\n                  data={comment}\n                  keyExtractor= {item => item.comment_id.toString()}\n                  showsHorizontalScrollIndicator={false}\n                  renderItem={({ item }) => (\n                      <View style={styles.commentContent}>         \n                          <Image \n                            style={styles.commentImg}\n                            source={{ uri: item.user_avatar }}\n                          />\n                          <View>\n                            <Text style={{fontWeight: 'bold'}}>{item.fullname}</Text>\n                            <Text>{item.comment_content}</Text>\n                          </View>\n                      </View>\n                  )}  \n                  ListEmptyComponent={ListEmpty}\n                /> \n              </View>\n              <View style={{justifyContent: 'flex-end', backgroundColor: '#aa4fff', width: '100%', height: 50, flexDirection: 'row', paddingRight: 5, marginBottom: 30}}>\n                <TextInput\n                  style={{ height: 40, margin: 5, backgroundColor: 'white', width: '80%'}}\n                  autoCorrect={false}\n                  value={contentComent}\n                  onSubmitEditing={() => submitComment()}\n                  onChangeText={text =>  setContentComent(text)}\n                />\n                <TouchableOpacity onPress={() => submitComment()}>\n                  <Ionicons name=\"md-send\" size={45} color=\"white\" style={{ marginLeft: 10, marginRight: 10}} />\n                </TouchableOpacity>\n              </View>\n            </View>\n          </View>\n        </Modal>\n      </View>\n    )   \n} export {ReadingScreen};\n \nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        justifyContent: 'flex-start',\n        flexDirection: 'column',\n        alignItems: 'center',\n        //marginTop: 25,\n        borderColor: '#8a2be2',\n    },\n    tabView: {\n      justifyContent: 'flex-end', \n      backgroundColor: '#aa4fff', \n      width: '100%', \n      height: 40, \n      paddingRight: 5\n    },\n    tabContainer: {\n      flex: 1, \n      height: 40,  \n      width: Dimensions.get('window').width,  \n      backgroundColor: 'white', \n      alignItems: 'center', \n      justifyContent: 'space-around', \n      flexDirection: 'row'\n    },\n    modalView: {\n      backgroundColor: \"white\",\n      shadowColor: \"#000\",\n      width: Dimensions.get('window').width, \n      height: Dimensions.get('window').height,\n    },\n    HeaderModal: {\n      justifyContent: 'flex-start',\n      alignItems: 'center',\n      flexDirection: 'row',\n      backgroundColor: '#EEEEEE',\n      height: 40,\n      shadowColor: \"#000\",\n      shadowOffset: {\n        width: 0,\n        height: 2\n      },\n      shadowOpacity: 0.25,\n      shadowRadius: 3.84,\n      elevation: 5,\n    },\n    HeaderText: {\n      fontSize: 20,\n      fontWeight: 'bold',\n      marginLeft: 10,\n      flex: 1\n    },\n    close: {\n      flex: -1,\n      marginRight: 10\n    },\n    comment: {\n      padding: 5,\n      flex: 3\n    },\n    commentImg: {\n      width: 60,\n      height: 60,\n      borderRadius: 50,\n      marginLeft: 10,\n      marginRight: 10\n    },\n    commentContent: {\n      flexDirection: 'row',\n      margin: 5\n    }\n});"]},"metadata":{},"sourceType":"module"}