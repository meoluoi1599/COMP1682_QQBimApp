{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\QQBimApp\\\\QQBimApp\\\\src\\\\ScreemFolder\\\\OtherScreen\\\\RingScreen.js\";\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport io from \"socket.io-client\";\n\nfunction RingScreen() {\n  var _this = this;\n\n  var _React$useState = React.useState(\"\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      chatMessage = _React$useState2[0],\n      setChatMessage = _React$useState2[1];\n\n  var _React$useState3 = React.useState([]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      chatMessages = _React$useState4[0],\n      setChatMessages = _React$useState4[1];\n\n  React.useEffect(function () {\n    _this.socket = io(\"http://192.168.1.8:19000\");\n\n    _this.socket.on(\"get_message\", function (msg) {\n      setChatMessages([].concat(_toConsumableArray(chatMessages), [msg]));\n    });\n  });\n\n  submitChatMessage = function submitChatMessage() {\n    _this.socket.emit(\"emit_message\", chatMessage);\n\n    _this.socket.emit(\"add_message\", chatMessage);\n\n    setChatMessage(\"\");\n  };\n\n  var messages = chatMessages.map(function (messages) {\n    return React.createElement(Text, {\n      key: messages,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }\n    }, chatMessage);\n  });\n  return React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, React.createElement(TextInput, {\n    style: {\n      height: 40,\n      borderWidth: 2,\n      width: '100%'\n    },\n    autoCorrect: false,\n    value: chatMessage,\n    onSubmitEditing: function onSubmitEditing() {\n      return submitChatMessage();\n    },\n    onChangeText: function onChangeText(chatMessage) {\n      return setChatMessage(chatMessage);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, messages));\n}\n\nexport { RingScreen };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    marginTop: 25\n  }\n});","map":{"version":3,"sources":["D:/QQBimApp/QQBimApp/src/ScreemFolder/OtherScreen/RingScreen.js"],"names":["React","io","RingScreen","useState","chatMessage","setChatMessage","chatMessages","setChatMessages","useEffect","socket","on","msg","submitChatMessage","emit","messages","map","styles","container","height","borderWidth","width","StyleSheet","create","flex","justifyContent","alignItems","marginTop"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;;;;AAEA,OAAOC,EAAP,MAAe,kBAAf;;AAGA,SAASC,UAAT,GAAsB;AAAA;;AAAA,wBACoBF,KAAK,CAACG,QAAN,CAAe,EAAf,CADpB;AAAA;AAAA,MACXC,WADW;AAAA,MACEC,cADF;;AAAA,yBAEsBL,KAAK,CAACG,QAAN,CAAe,EAAf,CAFtB;AAAA;AAAA,MAEXG,YAFW;AAAA,MAEGC,eAFH;;AAGlBP,EAAAA,KAAK,CAACQ,SAAN,CAAgB,YAAM;AAElB,IAAA,KAAI,CAACC,MAAL,GAAcR,EAAE,CAAC,0BAAD,CAAhB;;AAEA,IAAA,KAAI,CAACQ,MAAL,CAAYC,EAAZ,CAAe,aAAf,EAA8B,UAAAC,GAAG,EAAI;AACrCJ,MAAAA,eAAe,8BAAMD,YAAN,IAAoBK,GAApB,GAAf;AACD,KAFC;AAGH,GAPD;;AAYAC,EAAAA,iBAAiB,GAAE,6BAAK;AACpB,IAAA,KAAI,CAACH,MAAL,CAAYI,IAAZ,CAAiB,cAAjB,EAAiCT,WAAjC;;AACA,IAAA,KAAI,CAACK,MAAL,CAAYI,IAAZ,CAAiB,aAAjB,EAAgCT,WAAhC;;AACAC,IAAAA,cAAc,CAAC,EAAD,CAAd;AACH,GAJD;;AAMA,MAAMS,QAAQ,GAAGR,YAAY,CAACS,GAAb,CAAiB,UAAAD,QAAQ;AAAA,WACtC,oBAAC,IAAD;AAAM,MAAA,GAAG,EAAEA,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAsBV,WAAtB,CADsC;AAAA,GAAzB,CAAjB;AAIA,SACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEY,MAAM,CAACC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,SAAD;AACE,IAAA,KAAK,EAAE;AAAEC,MAAAA,MAAM,EAAE,EAAV;AAAcC,MAAAA,WAAW,EAAE,CAA3B;AAA8BC,MAAAA,KAAK,EAAE;AAArC,KADT;AAEE,IAAA,WAAW,EAAE,KAFf;AAGE,IAAA,KAAK,EAAEhB,WAHT;AAIE,IAAA,eAAe,EAAE;AAAA,aAAMQ,iBAAiB,EAAvB;AAAA,KAJnB;AAKE,IAAA,YAAY,EAAE,sBAAAR,WAAW;AAAA,aAAKC,cAAc,CAACD,WAAD,CAAnB;AAAA,KAL3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,EAQA,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOU,QAAP,CARA,CADJ;AAYH;;AAAC,SAAQZ,UAAR;AAEF,IAAMc,MAAM,GAAGK,UAAU,CAACC,MAAX,CAAkB;AAC7BL,EAAAA,SAAS,EAAE;AACPM,IAAAA,IAAI,EAAE,CADC;AAEPC,IAAAA,cAAc,EAAE,YAFT;AAGPC,IAAAA,UAAU,EAAE,QAHL;AAIPC,IAAAA,SAAS,EAAE;AAJJ;AADkB,CAAlB,CAAf","sourcesContent":["import React from 'react';\nimport { StyleSheet, Dimensions, View, TextInput, Text } from 'react-native';\nimport io from \"socket.io-client\";\n\n \nfunction RingScreen() {\n    const [chatMessage, setChatMessage] = React.useState(\"\");\n    const [chatMessages, setChatMessages] = React.useState([]);\n    React.useEffect(() => {\n      //connect with socket.io\n        this.socket = io(\"http://192.168.1.8:19000\");\n      //get list story of meassage\n        this.socket.on(\"get_message\", msg => {\n        setChatMessages( [...chatMessages, msg]);\n      });\n    });\n    // when submit will call two function \n      //emit_message to display in screen  \n      //add_message to add into db \n      //then set massage = \"\"\n    submitChatMessage =()=> {\n        this.socket.emit(\"emit_message\", chatMessage);\n        this.socket.emit(\"add_message\", chatMessage);\n        setChatMessage(\"\");\n    }\n\n    const messages = chatMessages.map(messages => (\n        <Text key={messages}>{chatMessage}</Text>\n      ));\n  \n    return (\n        <View style={styles.container}>\n        <TextInput\n          style={{ height: 40, borderWidth: 2, width: '100%' }}\n          autoCorrect={false}\n          value={chatMessage}\n          onSubmitEditing={() => submitChatMessage()}\n          onChangeText={chatMessage =>  setChatMessage(chatMessage)}\n        />\n        <Text>{messages}</Text>\n      </View>\n    )   \n} export {RingScreen};\n \nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n        marginTop: 25,\n    },\n\n});"]},"metadata":{},"sourceType":"module"}