{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\QQBimApp\\\\QQBimApp\\\\src\\\\ScreemFolder\\\\StoryScreen\\\\NewStory.js\";\nimport React, { Component } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { Dropdown } from 'react-native-material-dropdown-v2';\n\nfunction NewStory(props) {\n  var _React$useState = React.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      title = _React$useState2[0],\n      setTitle = _React$useState2[1];\n\n  var _React$useState3 = React.useState(''),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      description = _React$useState4[0],\n      setDescription = _React$useState4[1];\n\n  var _React$useState5 = React.useState(null),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      story_img = _React$useState6[0],\n      setStory_img = _React$useState6[1];\n\n  var _React$useState7 = React.useState(1),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      author_id = _React$useState8[0],\n      setAuthor_id = _React$useState8[1];\n\n  var _React$useState9 = React.useState([]),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      dataSource = _React$useState10[0],\n      setDataSource = _React$useState10[1];\n\n  var _React$useState11 = React.useState(true),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      isLoading = _React$useState12[0],\n      setLoading = _React$useState12[1];\n\n  React.useEffect(function () {\n    props.navigation.dangerouslyGetParent().setOptions({\n      tabBarVisible: false\n    });\n    fetch('http://192.168.1.8:19000/category').then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      console.log('kq:' + res);\n      setDataSource(res);\n    }).catch(function (error) {\n      console.log(error);\n    }).finally(function () {\n      setLoading(false);\n    });\n  });\n\n  var upload_story = function upload_story() {\n    fetch('http://192.168.1.8:19000/create_story', {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        'title_story': title,\n        'story_description': description,\n        'story_img': story_img,\n        'user_id': author_id\n      })\n    }).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      Alert.alert(\"Your story created\", \"Do you want to access your story list to create new chapter\", [{\n        text: \"Cancel\",\n        onPress: function onPress() {\n          return console.log(\"Cancel Pressed\");\n        },\n        style: \"cancel\"\n      }, {\n        text: \"OK\",\n        onPress: function onPress() {\n          return props.navigation.navigate('DetailStory', {\n            item: [{\n              'author_id': 1\n            }]\n          });\n        }\n      }], {\n        cancelable: false\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  return React.createElement(View, {\n    style: styles.main,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 16,\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, \"Story title:\"), React.createElement(TextInput, {\n    style: {\n      height: 40,\n      backgroundColor: 'white'\n    },\n    onChangeText: function onChangeText(text) {\n      return setTitle(text);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }), React.createElement(Dropdown, {\n    label: \"Category of story\",\n    data: dataSource,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    style: {\n      marginTop: 10,\n      fontSize: 16,\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, \"Story description:\"), React.createElement(ScrollView, {\n    scrollEnabled: true,\n    style: {\n      marginTop: 10,\n      backgroundColor: 'white'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, React.createElement(TextInput, {\n    multiline: true,\n    placeholder: \"Description for your story\",\n    scrollEnabled: false,\n    onChangeText: function onChangeText(text) {\n      return setDescription(text);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  })), React.createElement(TouchableOpacity, {\n    style: styles.upload,\n    onPress: function onPress() {\n      upload_story();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: {\n      textAlign: 'center',\n      color: 'white'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 86\n    }\n  }, \"Upload your story\")));\n}\n\nexport { NewStory };\nvar styles = StyleSheet.create({\n  main: {\n    flex: 1,\n    paddingLeft: 30,\n    paddingRight: 30,\n    paddingBottom: 1,\n    alignItems: 'stretch'\n  },\n  upload: {\n    marginTop: 20,\n    paddingTop: 15,\n    paddingBottom: 15,\n    backgroundColor: '#aa4fff',\n    borderRadius: 50,\n    borderWidth: 1,\n    borderColor: '#fff'\n  }\n});","map":{"version":3,"sources":["D:/QQBimApp/QQBimApp/src/ScreemFolder/StoryScreen/NewStory.js"],"names":["React","Component","Dropdown","NewStory","props","useState","title","setTitle","description","setDescription","story_img","setStory_img","author_id","setAuthor_id","dataSource","setDataSource","isLoading","setLoading","useEffect","navigation","dangerouslyGetParent","setOptions","tabBarVisible","fetch","then","response","json","res","console","log","catch","error","finally","upload_story","method","headers","Accept","body","JSON","stringify","Alert","alert","text","onPress","style","navigate","item","cancelable","styles","main","fontSize","fontWeight","height","backgroundColor","marginTop","upload","textAlign","color","StyleSheet","create","flex","paddingLeft","paddingRight","paddingBottom","alignItems","paddingTop","borderRadius","borderWidth","borderColor"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n    View, \n    StyleSheet, \n    Text, \n    ScrollView,\n    TextInput,\n    TouchableOpacity,\n    Alert\n} from 'react-native';\nimport { Dropdown } from 'react-native-material-dropdown-v2';\n\nfunction NewStory (props){\n    const [title, setTitle] = React.useState('');\n    const [description, setDescription] = React.useState('');\n    const [story_img, setStory_img] = React.useState(null);\n    const [author_id, setAuthor_id] = React.useState(1);\n    const [dataSource, setDataSource ]= React.useState([]);\n    const [isLoading, setLoading] = React.useState(true);\n\n    React.useEffect(() => {\n        props.navigation.dangerouslyGetParent().setOptions({\n            tabBarVisible: false\n        });\n        fetch('http://192.168.1.8:19000/category' )\n        .then ((response) => response.json())\n        .then ( (res) => { \n          console.log('kq:' + res); \n          setDataSource(res);\n        })\n        .catch ((error) => {\n          console.log(error);\n        })\n        .finally(() => {\n          setLoading(false) \n        });\n      });\n\n    const upload_story = () => {\n        fetch('http://192.168.1.8:19000/create_story' , {\n          method: 'POST',\n          headers: {\n              Accept: 'application/json',\n              'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            'title_story': title,\n            'story_description': description,\n            'story_img': story_img,\n            'user_id': author_id\n          })\n      })\n      .then ((response) => response.json())\n      .then ( (res) => { \n        Alert.alert(\n          \"Your story created\",\n          \"Do you want to access your story list to create new chapter\",\n          [\n            {\n              text: \"Cancel\",\n              onPress: () => console.log(\"Cancel Pressed\"),\n              style: \"cancel\"\n            },\n            { text: \"OK\", onPress: () => props.navigation.navigate('DetailStory', {item: [{'author_id': 1}]}) }\n          ],\n          { cancelable: false }\n        ); \n      })\n      .catch ((error) => {\n        console.log(error);\n      })\n    }\n    return (               \n        <View style={styles.main}>\n            <Text style={{  fontSize: 16, fontWeight: 'bold'}}>Story title:</Text>\n            <TextInput\n            style={{ height: 40, backgroundColor: 'white' }}\n                onChangeText={text => setTitle(text)}\n            />\n            <Dropdown\n                    label='Category of story'\n                    data={dataSource}\n                  />\n            <Text style={{ marginTop: 10, fontSize: 16, fontWeight: 'bold'}}>Story description:</Text>  \n            <ScrollView scrollEnabled  style={{ marginTop: 10, backgroundColor: 'white'}} >\n                <TextInput multiline placeholder=\"Description for your story\" scrollEnabled={false} onChangeText={text => setDescription(text)} />\n            </ScrollView>\n            <TouchableOpacity style={styles.upload} onPress={()=> {upload_story();}}><Text style={{textAlign: 'center', color: 'white'}}>Upload your story</Text></TouchableOpacity>\n        </View>\n    );\n}\nexport {NewStory};\n\n\nvar styles = StyleSheet.create({\n    main: {\n        flex: 1,\n        paddingLeft: 30,\n        paddingRight: 30,\n        paddingBottom: 1,\n        alignItems: 'stretch',\n    },\n    upload:{\n        marginTop: 20,\n        paddingTop: 15,\n        paddingBottom: 15,\n        backgroundColor:'#aa4fff',\n        borderRadius: 50,\n        borderWidth: 1,\n        borderColor: '#fff'\n    },\n});\n\n\n"]},"metadata":{},"sourceType":"module"}