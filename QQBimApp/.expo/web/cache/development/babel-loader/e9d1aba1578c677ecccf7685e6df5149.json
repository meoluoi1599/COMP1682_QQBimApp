{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\QQBimApp\\\\QQBimApp\\\\src\\\\users\\\\ScreemFolder\\\\StoryScreen\\\\DetailStoryScreen.js\";\nimport * as React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport Icon from \"@expo/vector-icons/Ionicons\";\nimport { ButtonReadingAdd, ListChapterModal } from \"../../Components/DetailStoryScreen\";\nimport { PrivateValueStore, useFocusEffect } from '@react-navigation/native';\nimport { Category } from \"../../Components/CategoryComponent\";\nimport { SplashScreen } from \"../OtherScreen\";\n\nfunction DetailStoryScreen(props) {\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isLoading = _React$useState2[0],\n      setLoading = _React$useState2[1];\n\n  var _React$useState3 = React.useState([]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      categoryData = _React$useState4[0],\n      setCategoryData = _React$useState4[1];\n\n  var _React$useState5 = React.useState([]),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      userData = _React$useState6[0],\n      setUserData = _React$useState6[1];\n\n  var _React$useState7 = React.useState([]),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      dataAuthor = _React$useState8[0],\n      setDataAuthor = _React$useState8[1];\n\n  var data = [{\n    id: \"1\"\n  }];\n  useFocusEffect(React.useCallback(function () {\n    props.navigation.dangerouslyGetParent().setOptions({\n      tabBarVisible: true\n    });\n    getData();\n    getCategory();\n    getUser();\n  }, []));\n\n  var getCategory = function getCategory() {\n    fetch('http://192.168.0.102:19000/category/' + props.route.params.item.category_id).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      setCategoryData(res);\n    }).catch(function (error) {\n      console.log(error);\n    }).finally(function () {\n      setLoading(false);\n    });\n  };\n\n  var getData = function getData() {\n    fetch('http://192.168.0.102:19000/author/' + props.route.params.item.author_id).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      setDataAuthor(res);\n    }).catch(function (error) {\n      console.log(error);\n    }).finally(function () {\n      setLoading(false);\n    });\n  };\n\n  var getUser = function getUser() {\n    try {\n      AsyncStorage.getItem('user').then(function (value) {\n        var jsonValue = JSON.parse(value);\n        setUserData(jsonValue);\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      backgroundColor: 'white'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, React.createElement(StatusBar, {\n    hidden: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }), React.createElement(FlatList, {\n    showsVerticalScrollIndicator: false,\n    data: data,\n    renderItem: function renderItem(item) {\n      return React.createElement(React.Fragment, null, React.createElement(View, {\n        style: style.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }\n      }, React.createElement(TouchableOpacity, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }\n      }, React.createElement(Image, {\n        style: style.image,\n        source: {\n          uri: props.route.params.item.story_img\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 15\n        }\n      })), React.createElement(Text, {\n        style: {\n          fontSize: 30,\n          marginTop: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 15\n        }\n      }, props.route.params.item.story_title), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }\n      }, React.createElement(FlatList, {\n        data: dataAuthor,\n        keyExtractor: function keyExtractor(item) {\n          return item.user_id.toString();\n        },\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item;\n          return React.createElement(TouchableOpacity, {\n            style: style.author,\n            onPress: function onPress() {\n              item.user_id != userData.user_id ? props.navigation.navigate('DetailUser', {\n                item: item\n              }) : props.navigation.navigate('AboutUser');\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 19\n            }\n          }, React.createElement(Image, {\n            style: style.avatar,\n            source: {\n              uri: item.user_avatar\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 21\n            }\n          }), React.createElement(Text, {\n            style: {\n              marginLeft: 5\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 21\n            }\n          }, \"@\", item.username));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 15\n        }\n      }), React.createElement(View, {\n        style: {\n          flexDirection: 'row',\n          alignItems: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 15\n        }\n      }, React.createElement(Icon, {\n        name: \"ios-star\",\n        size: 14,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }\n      }), React.createElement(Text, {\n        style: {\n          marginLeft: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }\n      }, props.route.params.item.vote, \" Votes\"), React.createElement(Icon, {\n        name: \"ios-list\",\n        size: 14,\n        style: {\n          marginLeft: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 17\n        }\n      }), React.createElement(Text, {\n        style: {\n          marginLeft: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 17\n        }\n      }, props.route.params.item.parts, \" Parts\")))), React.createElement(ButtonReadingAdd, _extends({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }\n      })), React.createElement(View, {\n        style: style.description,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 16,\n          fontStyle: 'italic'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 15\n        }\n      }, props.route.params.item.story_description)), isLoading ? React.createElement(SplashScreen, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 22\n        }\n      }) : React.createElement(FlatList, {\n        data: categoryData,\n        horizontal: true,\n        ListHeaderComponent: headerComponet(),\n        keyExtractor: function keyExtractor(item) {\n          return item.category_id.toString();\n        },\n        renderItem: function renderItem(_ref2) {\n          var item = _ref2.item;\n          return React.createElement(TouchableOpacity, {\n            style: {\n              marginLeft: 10\n            },\n            onPress: function onPress() {\n              props.navigation.navigate('DetailCategory', {\n                category_id: item.category_id\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 17\n            }\n          }, React.createElement(Text, {\n            style: {\n              fontSize: 15\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 19\n            }\n          }, item.category));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }\n      }), React.createElement(ListChapterModal, _extends({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }\n      })));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }));\n\n  function headerComponet() {\n    return React.createElement(View, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      style: {\n        fontWeight: 'bold',\n        marginLeft: 10,\n        fontSize: 18\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }\n    }, \"Tags:\"));\n  }\n}\n\nexport { DetailStoryScreen };\nvar style = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: 30\n  },\n  image: {\n    width: 150,\n    height: 200\n  },\n  author: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  avatar: {\n    height: 30,\n    width: 30,\n    borderRadius: 50\n  },\n  description: {\n    padding: 20\n  }\n});","map":{"version":3,"sources":["D:/QQBimApp/QQBimApp/src/users/ScreemFolder/StoryScreen/DetailStoryScreen.js"],"names":["React","Icon","ButtonReadingAdd","ListChapterModal","PrivateValueStore","useFocusEffect","Category","SplashScreen","DetailStoryScreen","props","useState","isLoading","setLoading","categoryData","setCategoryData","userData","setUserData","dataAuthor","setDataAuthor","data","id","useCallback","navigation","dangerouslyGetParent","setOptions","tabBarVisible","getData","getCategory","getUser","fetch","route","params","item","category_id","then","response","json","res","catch","error","console","log","finally","author_id","AsyncStorage","getItem","value","jsonValue","JSON","parse","e","flex","backgroundColor","style","container","image","uri","story_img","fontSize","marginTop","story_title","user_id","toString","author","navigate","avatar","user_avatar","marginLeft","username","flexDirection","alignItems","vote","parts","description","fontStyle","story_description","headerComponet","category","fontWeight","StyleSheet","create","justifyContent","width","height","borderRadius","padding"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport {View, Text, Image, StyleSheet, TouchableOpacity, FlatList, AsyncStorage, StatusBar } from 'react-native';\nimport Icon from 'react-native-vector-icons/Ionicons'\n// import { TouchableWithoutFeedback } from 'react-native-gesture-handler';\nimport {ButtonReadingAdd, ListChapterModal} from '../../Components/DetailStoryScreen';\nimport { PrivateValueStore, useFocusEffect } from '@react-navigation/native';\nimport { Category } from '../../Components/CategoryComponent';\nimport { SplashScreen } from '../OtherScreen';\n\nfunction DetailStoryScreen(props) {\n  const [isLoading, setLoading] = React.useState(false)\n  const [categoryData, setCategoryData] = React.useState([])\n  const [userData, setUserData] = React.useState([]);\n  const [dataAuthor, setDataAuthor] = React.useState([]);\n  const data = [\n    {id:\"1\"}\n  ]\n\n  useFocusEffect(\n    React.useCallback(() => {\n      props.navigation.dangerouslyGetParent().setOptions({\n        tabBarVisible: true\n       });\n      getData();\n      getCategory();\n      getUser();\n    }, [])\n  );\n\n  const getCategory=()=> {\n    fetch('http://192.168.0.102:19000/category/'+ props.route.params.item.category_id)\n    .then ((response) => response.json())\n    .then ( (res) => { \n      setCategoryData(res);\n    })\n    .catch ((error) => {\n      console.log(error);\n    })\n    .finally(() => {\n      setLoading(false) \n    });\n  }\n  \n  const getData=()=>{\n    fetch('http://192.168.0.102:19000/author/' + props.route.params.item.author_id)\n    .then ((response) => response.json())\n    .then ( (res) => { \n      setDataAuthor(res);\n    })\n    .catch ((error) => {\n      console.log(error);\n    })\n    .finally(() => {\n      setLoading(false) \n    });\n  }\n\n  const getUser=()=> {\n    try {\n      AsyncStorage.getItem('user').then((value) => {\n        const jsonValue = JSON.parse(value);\n        setUserData(jsonValue);\n      })\n    } catch(e) {\n      console.log(e)\n    }\n  }\n  \n  return (\n    <View style={{ flex: 1, backgroundColor: 'white'}}>\n      <StatusBar hidden/>\n      <FlatList \n        showsVerticalScrollIndicator = {false}\n        data={data}\n        renderItem={(item) => (\n        <>\n          <View style={style.container}>\n            <TouchableOpacity>\n              <Image style={style.image}\n                  source={{uri: props.route.params.item.story_img}} \n              />\n            </TouchableOpacity>\n              <Text style={{fontSize: 30, marginTop: 10}}>{props.route.params.item.story_title}</Text>\n            <View>\n              <FlatList\n                data={dataAuthor}\n                keyExtractor= {item => item.user_id.toString()}\n                renderItem={({ item }) =>(\n                  <TouchableOpacity style={style.author} onPress={() => {item.user_id != userData.user_id? props.navigation.navigate('DetailUser', {item: item}): props.navigation.navigate('AboutUser')}}>\n                    <Image style={style.avatar}\n                        source={{uri: item.user_avatar}} \n                    />\n                    <Text style={{marginLeft: 5}}>@{item.username}</Text>\n                  </TouchableOpacity>\n                )}\n              />\n              <View style={{flexDirection: 'row', alignItems: 'center'}}>\n                <Icon name='ios-star' size={14}/>\n                <Text style={{marginLeft: 5}}> \n                  {props.route.params.item.vote} Votes</Text>\n                <Icon name='ios-list' size={14} style={{marginLeft: 10}}/>\n                <Text style={{marginLeft: 5}}>\n                  {props.route.params.item.parts} Parts</Text>\n              </View>\n            </View>\n          </View>\n          <ButtonReadingAdd {...props}/>\n          <View style={style.description}>\n              <Text style={{fontSize: 16, fontStyle: 'italic'}}>{props.route.params.item.story_description}</Text>\n          </View>\n          {isLoading?<SplashScreen/>: (\n            <FlatList\n              data={categoryData}\n              horizontal\n              ListHeaderComponent={headerComponet()}\n              keyExtractor= {item => item.category_id.toString()}\n              renderItem={({ item }) =>(\n                <TouchableOpacity \n                  style={{marginLeft: 10}}\n                  onPress={()=> {props.navigation.navigate('DetailCategory', {category_id: item.category_id})}}\n                >\n                  <Text style={{fontSize: 15}}>\n                    {item.category}\n                  </Text>\n                </TouchableOpacity>\n              )}\n            />\n          )}\n          <ListChapterModal {...props}/>\n       </>\n      )}\n      />\n    </View>\n  );\n\n  function headerComponet() {\n    return(\n      <View>\n        <Text style={{fontWeight: 'bold', marginLeft: 10, fontSize: 18}}>Tags:</Text>\n      </View>\n    )\n  }\n}\nexport {DetailStoryScreen};\n\nconst style = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: 30,\n  },\n  image: {\n    width: 150,\n    height: 200\n  },\n  author: {\n    flexDirection: 'row', \n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  avatar: {\n    height: 30,\n    width: 30,\n    borderRadius: 50\n  },\n  \n  description: {\n    padding: 20,\n  },\n}) "]},"metadata":{},"sourceType":"module"}