{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\QQBimApp\\\\QQBimApp\\\\src\\\\admin\\\\reportDetail.js\";\nimport * as React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ToastAndroid from \"react-native-web/dist/exports/ToastAndroid\";\nimport { SplashScreen } from \"../users/ScreemFolder/OtherScreen\";\n\nfunction reportDetail(props) {\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isLoading = _React$useState2[0],\n      setLoading = _React$useState2[1];\n\n  var _React$useState3 = React.useState([]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      dataRepoter = _React$useState4[0],\n      setRepoterData = _React$useState4[1];\n\n  var _React$useState5 = React.useState(0),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      warningTimes = _React$useState6[0],\n      setWarningTimes = _React$useState6[1];\n\n  var _React$useState7 = React.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      modalVisible = _React$useState8[0],\n      setModalVisible = _React$useState8[1];\n\n  var _React$useState9 = React.useState([]),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      dataSource = _React$useState10[0],\n      setDataSource = _React$useState10[1];\n\n  React.useEffect(function () {\n    getReporter();\n    getWarning();\n  }, []);\n\n  var getReporter = function getReporter() {\n    fetch('http://192.168.0.101:19000/user/' + props.route.params.item.reporter).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      setRepoterData(res);\n    }).catch(function (error) {\n      console.log(error);\n    }).finally(function () {\n      setLoading(false);\n    });\n  };\n\n  var getWarning = function getWarning() {\n    fetch('http://192.168.0.101:19000/get_warning/' + props.route.params.item.story_id).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      if (res != null) {\n        setWarningTimes(res[0]);\n      }\n    }).catch(function (error) {\n      console.log(error);\n    }).finally(function () {\n      setLoading(false);\n    });\n  };\n\n  var getChapter = function getChapter() {\n    fetch('http://192.168.0.101:19000/chapter/' + props.route.params.item.story_id).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      setDataSource(res);\n      setModalVisible(!modalVisible);\n    }).catch(function (error) {\n      console.log(error);\n    }).finally(function () {\n      setLoading(false);\n    });\n  };\n\n  var showToast = function showToast() {\n    ToastAndroid.show(\"Successfull!\", ToastAndroid.SHORT);\n  };\n\n  var sendWarning = function sendWarning() {\n    Alert.alert(\"Do you want to send warning for this story?\", \"If you choose OK, story's warning times will update. If warning times over three time the account can be deleted.\", [{\n      text: \"Cancel\",\n      onPress: function onPress() {\n        return console.log(\"Cancel Pressed\");\n      },\n      style: \"cancel\"\n    }, {\n      text: \"OK\",\n      onPress: function onPress() {\n        fetch('http://192.168.0.101:19000/warning_email', {\n          method: 'POST',\n          headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            'user_email': props.route.params.item.user_email,\n            'story_id': props.route.params.item.story_id,\n            'story_title': props.route.params.item.story_title,\n            'warning_times': warningTimes + 1\n          })\n        }).then(function (response) {\n          return response.json();\n        }).then(function (res) {\n          getWarning();\n          showToast();\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    }], {\n      cancelable: false\n    });\n  };\n\n  var deleteStory = function deleteStory() {\n    Alert.alert(\"Do you want to delete this story?\", \"If you choose OK, the story will delete forever on this app.\", [{\n      text: \"Cancel\",\n      onPress: function onPress() {\n        return console.log(\"Cancel Pressed\");\n      },\n      style: \"cancel\"\n    }, {\n      text: \"OK\",\n      onPress: function onPress() {\n        fetch('http://192.168.0.101:19000/delete_story', {\n          method: 'POST',\n          headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            'user_email': props.route.params.item.user_email,\n            'story_id': props.route.params.item.story_id,\n            'story_title': props.route.params.item.story_title\n          })\n        }).then(function (response) {\n          return response.json();\n        }).then(function (res) {\n          showToast();\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    }], {\n      cancelable: false\n    });\n  };\n\n  var deleteAccount = function deleteAccount() {\n    Alert.alert(\"Do you want to delete this account?\", \"If you choose OK, the account will delete forever in this app.\", [{\n      text: \"Cancel\",\n      onPress: function onPress() {\n        return console.log(\"Cancel Pressed\");\n      },\n      style: \"cancel\"\n    }, {\n      text: \"OK\",\n      onPress: function onPress() {\n        fetch('http://192.168.0.101:19000/delete_account', {\n          method: 'POST',\n          headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            'user_email': props.route.params.item.user_email,\n            'user_id': props.route.params.item.author_id\n          })\n        }).then(function (response) {\n          return response.json();\n        }).then(function (res) {\n          showToast();\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    }], {\n      cancelable: false\n    });\n  };\n\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      justifyContent: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }\n  }, isLoading ? React.createElement(SplashScreen, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 21\n    }\n  }) : React.createElement(FlatList, {\n    data: dataRepoter,\n    keyExtractor: function keyExtractor(item) {\n      return item.user_id.toString();\n    },\n    ListFooterComponent: footerComponent,\n    ListEmptyComponent: emptyList,\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item;\n      return React.createElement(View, {\n        style: {\n          margin: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: style.header,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 25\n        }\n      }, item.report_title), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 25\n        }\n      }, React.createElement(View, {\n        style: {\n          flex: 1,\n          flexDirection: 'row'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 29\n        }\n      }, React.createElement(Image, {\n        style: style.imageStory,\n        source: {\n          uri: props.route.params.item.story_img\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 33\n        }\n      }), React.createElement(View, {\n        style: {\n          marginLeft: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 33\n        }\n      }, React.createElement(Text, {\n        style: style.textStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 37\n        }\n      }, \"Story Title:\", React.createElement(Text, {\n        style: [style.textStyle, {\n          fontWeight: 'normal'\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 41\n        }\n      }, props.route.params.item.story_title)), React.createElement(Text, {\n        style: style.textStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 37\n        }\n      }, \"Author:\", React.createElement(Text, {\n        style: [style.textStyle, {\n          fontWeight: 'normal'\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 41\n        }\n      }, props.route.params.item.fullname)), React.createElement(Text, {\n        style: style.textStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 37\n        }\n      }, \"Chapter:\", React.createElement(Text, {\n        style: [style.textStyle, {\n          fontWeight: 'normal'\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 41\n        }\n      }, props.route.params.item.parts)), React.createElement(Text, {\n        style: style.textStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 37\n        }\n      }, \"Vote:\", React.createElement(Text, {\n        style: [style.textStyle, {\n          fontWeight: 'normal'\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 41\n        }\n      }, props.route.params.item.vote)), React.createElement(Text, {\n        style: style.textStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 37\n        }\n      }, \"Status:\", React.createElement(Text, {\n        style: [style.textStyle, {\n          fontWeight: 'normal'\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 41\n        }\n      }, props.route.params.item.story_status)), React.createElement(Text, {\n        style: style.textStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 37\n        }\n      }, \"Warning times:\", React.createElement(Text, {\n        style: [style.textStyle, {\n          fontWeight: 'normal'\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 41\n        }\n      }, warningTimes)), React.createElement(Text, {\n        style: style.textStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 37\n        }\n      }, \"Reporter:\", React.createElement(Text, {\n        style: [style.textStyle, {\n          fontWeight: 'normal'\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 41\n        }\n      }, item.fullname)))), React.createElement(Text, {\n        style: style.textStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 29\n        }\n      }, \"Content report: \", React.createElement(Text, {\n        style: [style.textStyle, {\n          fontWeight: 'normal',\n          textAlign: 'justify'\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 75\n        }\n      }, props.route.params.item.report_content))));\n    },\n    showsHorizontalScrollIndicator: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }), React.createElement(Modal, {\n    animationType: \"slide\",\n    transparent: true,\n    visible: modalVisible,\n    onRequestClose: function onRequestClose() {\n      setModalVisible(!modalVisible);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: style.centeredView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: style.modalView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 13\n    }\n  }, React.createElement(FlatList, {\n    data: dataSource,\n    keyExtractor: function keyExtractor(item) {\n      return item.chapter_id.toString();\n    },\n    ListHeaderComponent: headerComponent,\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item;\n      return React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return props.navigation.navigate('chapterContent', {\n            item: item,\n            story: props.route.params.item\n          }, setModalVisible(!modalVisible));\n        },\n        style: style.chapter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        numberOfLines: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 25\n        }\n      }, item.chapter_name));\n    },\n    showsHorizontalScrollIndicator: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 17\n    }\n  }), React.createElement(TouchableOpacity, {\n    style: style.closeButtom,\n    onPress: function onPress() {\n      setModalVisible(!modalVisible);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: style.textStyle2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 17\n    }\n  }, \"Hide chapter list\"))))));\n\n  function headerComponent() {\n    return React.createElement(View, {\n      style: {\n        alignItems: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 13\n      }\n    }, React.createElement(Image, {\n      style: style.imageModal,\n      source: {\n        uri: props.route.params.item.story_img\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 17\n      }\n    }), React.createElement(Text, {\n      style: style.titleModal,\n      numberOfLines: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 17\n      }\n    }, props.route.params.item.story_title));\n  }\n\n  function footerComponent() {\n    return React.createElement(View, {\n      style: {\n        alignItems: \"center\",\n        flexDirection: 'row'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 13\n      }\n    }, React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return sendWarning();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 17\n      }\n    }, React.createElement(Text, {\n      style: style.button,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 21\n      }\n    }, \"Send warning\")), React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return deleteStory();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 17\n      }\n    }, React.createElement(Text, {\n      style: style.button,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 21\n      }\n    }, \"Delete story\")), React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return deleteAccount();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 17\n      }\n    }, React.createElement(Text, {\n      style: style.button,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 21\n      }\n    }, \"Delete account\")), React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return getChapter();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 17\n      }\n    }, React.createElement(Text, {\n      style: style.button,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 21\n      }\n    }, \"Read story\")));\n  }\n\n  function emptyList() {\n    return React.createElement(View, {\n      style: {\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }\n    }, React.createElement(Text, {\n      style: {\n        fontSize: 20,\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 11\n      }\n    }, \"The story is deleted!!\"));\n  }\n\n  ;\n}\n\nexport { reportDetail };\nvar style = StyleSheet.create({\n  imageStory: {\n    width: 100,\n    height: 150\n  },\n  button: {\n    backgroundColor: '#aa4fff',\n    borderRadius: 20,\n    color: 'white',\n    fontWeight: 'bold',\n    fontSize: 12,\n    padding: 5,\n    marginTop: 20,\n    marginLeft: 5\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginTop: 10,\n    marginBottom: 10\n  },\n  chapter: {\n    padding: 5,\n    flexDirection: 'row',\n    borderBottomWidth: 0.5,\n    alignItems: 'center',\n    borderBottomColor: 'grey'\n  },\n  imgList: {\n    width: 40,\n    height: 40\n  },\n  header: {\n    color: 'white',\n    fontSize: 18\n  },\n  textStyle: {\n    fontSize: 15,\n    fontWeight: 'bold'\n  },\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 22\n  },\n  modalView: {\n    margin: 10,\n    backgroundColor: \"white\",\n    borderRadius: 20,\n    padding: 10,\n    width: '80%',\n    height: '90%',\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  textStyle2: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  modalText: {\n    marginBottom: 15,\n    textAlign: \"center\"\n  },\n  imageModal: {\n    width: 150,\n    height: 200,\n    marginTop: 20\n  },\n  titleModal: {\n    fontSize: 15,\n    fontWeight: 'bold',\n    marginTop: 10,\n    marginBottom: 10\n  },\n  chapter: {\n    padding: 10,\n    borderBottomWidth: 0.5,\n    borderBottomColor: 'grey'\n  },\n  closeButtom: {\n    backgroundColor: \"#aa4fff\",\n    borderRadius: 20,\n    padding: 10,\n    elevation: 2\n  }\n});","map":{"version":3,"sources":["D:/QQBimApp/QQBimApp/src/admin/reportDetail.js"],"names":["React","SplashScreen","reportDetail","props","useState","isLoading","setLoading","dataRepoter","setRepoterData","warningTimes","setWarningTimes","modalVisible","setModalVisible","dataSource","setDataSource","useEffect","getReporter","getWarning","fetch","route","params","item","reporter","then","response","json","res","catch","error","console","log","finally","story_id","getChapter","showToast","ToastAndroid","show","SHORT","sendWarning","Alert","alert","text","onPress","style","method","headers","Accept","body","JSON","stringify","user_email","story_title","cancelable","deleteStory","deleteAccount","author_id","flex","justifyContent","user_id","toString","footerComponent","emptyList","margin","header","report_title","flexDirection","imageStory","uri","story_img","marginLeft","textStyle","fontWeight","fullname","parts","vote","story_status","textAlign","report_content","centeredView","modalView","chapter_id","headerComponent","navigation","navigate","story","chapter","chapter_name","closeButtom","textStyle2","alignItems","imageModal","titleModal","button","fontSize","StyleSheet","create","width","height","backgroundColor","borderRadius","color","padding","marginTop","title","marginBottom","borderBottomWidth","borderBottomColor","imgList","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","modalText"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport { View, Text, StyleSheet, FlatList, TouchableOpacity, Dimensions, Image, Modal, Alert, ToastAndroid} from 'react-native';\r\nimport { SplashScreen } from '../users/ScreemFolder/OtherScreen';\r\n\r\nfunction reportDetail (props) {\r\n    const [isLoading, setLoading] = React.useState(false);\r\n    const [dataRepoter, setRepoterData ]= React.useState([]);\r\n    const [warningTimes, setWarningTimes ]= React.useState(0);\r\n    const [modalVisible, setModalVisible] = React.useState(false);\r\n    const [dataSource, setDataSource] = React.useState([]);\r\n    \r\n    React.useEffect(() => {\r\n        getReporter();\r\n        getWarning();\r\n      }, []);\r\n\r\n      const getReporter =()=> {\r\n        fetch('http://192.168.0.101:19000/user/' + props.route.params.item.reporter)\r\n        .then ((response) => response.json())\r\n        .then ( (res) => { \r\n            setRepoterData(res);\r\n        })\r\n        .catch ((error) => {\r\n          console.log(error);\r\n        })\r\n        .finally(() => {\r\n          setLoading(false) \r\n        });\r\n      }\r\n\r\n      const getWarning =()=> {\r\n        fetch('http://192.168.0.101:19000/get_warning/' + props.route.params.item.story_id)\r\n        .then ((response) => response.json())\r\n        .then ( (res) => { \r\n            if (res != null) {\r\n                setWarningTimes(res[0]);    \r\n            }\r\n        })\r\n        .catch ((error) => {\r\n          console.log(error);\r\n        })\r\n        .finally(() => {\r\n          setLoading(false) \r\n        });\r\n      }\r\n\r\n      const getChapter=() => {\r\n        // fetch('http://10.0.2.2:5000/')\r\n        fetch('http://192.168.0.101:19000/chapter/' + props.route.params.item.story_id)\r\n        .then ((response) => response.json())\r\n        .then ( (res) => { \r\n          setDataSource(res);\r\n          setModalVisible(!modalVisible);\r\n        })\r\n        .catch ((error) => {\r\n          console.log(error);\r\n        })\r\n        .finally(() => {\r\n          setLoading(false) \r\n        });\r\n      }\r\n\r\n      const showToast = () => {\r\n        ToastAndroid.show(\"Successfull!\", ToastAndroid.SHORT);\r\n      };\r\n\r\n      const sendWarning=()=> {\r\n        Alert.alert(\r\n          \"Do you want to send warning for this story?\",\r\n          \"If you choose OK, story's warning times will update. If warning times over three time the account can be deleted.\",\r\n          [\r\n            {\r\n              text: \"Cancel\",\r\n              onPress: () => console.log(\"Cancel Pressed\"),\r\n              style: \"cancel\"\r\n            },\r\n            { text: \"OK\", onPress: () => {\r\n              fetch('http://192.168.0.101:19000/warning_email', {\r\n                method: 'POST',\r\n                headers: {\r\n                    Accept: 'application/json',\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                    'user_email': props.route.params.item.user_email,\r\n                    'story_id': props.route.params.item.story_id,\r\n                    'story_title': props.route.params.item.story_title,\r\n                    'warning_times': warningTimes + 1\r\n                })\r\n                })\r\n                .then ((response) => response.json())\r\n                .then ( (res) => { \r\n                    getWarning();\r\n                    showToast();\r\n                })\r\n                .catch ((error) => {\r\n                    console.log(error);\r\n              })\r\n            } }\r\n          ],\r\n          { cancelable: false }\r\n        ); \r\n      }\r\n\r\n      const deleteStory=()=> {\r\n        Alert.alert(\r\n          \"Do you want to delete this story?\",\r\n          \"If you choose OK, the story will delete forever on this app.\",\r\n          [\r\n            {\r\n              text: \"Cancel\",\r\n              onPress: () => console.log(\"Cancel Pressed\"),\r\n              style: \"cancel\"\r\n            },\r\n            { text: \"OK\", onPress: () => {\r\n              fetch('http://192.168.0.101:19000/delete_story', {\r\n                method: 'POST',\r\n                headers: {\r\n                    Accept: 'application/json',\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                    'user_email': props.route.params.item.user_email,\r\n                    'story_id': props.route.params.item.story_id,\r\n                    'story_title': props.route.params.item.story_title,\r\n                })\r\n                })\r\n                .then ((response) => response.json())\r\n                .then ( (res) => { \r\n                    showToast();\r\n                })\r\n                .catch ((error) => {\r\n                    console.log(error);\r\n              })\r\n            } }\r\n          ],\r\n          { cancelable: false }\r\n        );\r\n      }\r\n      const deleteAccount=()=> {\r\n        Alert.alert(\r\n          \"Do you want to delete this account?\",\r\n          \"If you choose OK, the account will delete forever in this app.\",\r\n          [\r\n            {\r\n              text: \"Cancel\",\r\n              onPress: () => console.log(\"Cancel Pressed\"),\r\n              style: \"cancel\"\r\n            },\r\n            { text: \"OK\", onPress: () => {\r\n              fetch('http://192.168.0.101:19000/delete_account', {\r\n                method: 'POST',\r\n                headers: {\r\n                    Accept: 'application/json',\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                    'user_email': props.route.params.item.user_email,\r\n                    'user_id': props.route.params.item.author_id,\r\n                })\r\n                })\r\n                .then ((response) => response.json())\r\n                .then ( (res) => { \r\n                    showToast();\r\n                })\r\n                .catch ((error) => {\r\n                    console.log(error);\r\n              })\r\n            } }\r\n          ],\r\n          { cancelable: false }\r\n        );\r\n      }\r\n    return (\r\n      <View style={{flex: 1, justifyContent: 'center'}}>\r\n        {isLoading? <SplashScreen/> : (     \r\n            <FlatList\r\n                data={dataRepoter}\r\n                keyExtractor= {item => item.user_id.toString()}\r\n                ListFooterComponent={footerComponent}\r\n                ListEmptyComponent={emptyList}\r\n                renderItem={({ item }) => (\r\n                    <View style={{margin: 10}}> \r\n                        <Text style={style.header}>{item.report_title}</Text>\r\n                        <View>\r\n                            <View style={{flex: 1, flexDirection: 'row'}}>\r\n                                <Image style={style.imageStory}\r\n                                    source={{uri: props.route.params.item.story_img}} \r\n                                />\r\n                                <View style={{marginLeft: 10}}>\r\n                                    <Text style={style.textStyle}>Story Title: \r\n                                        <Text style={[style.textStyle, {fontWeight: 'normal'}]}>{props.route.params.item.story_title}</Text>\r\n                                    </Text>\r\n                                    <Text style={style.textStyle}>Author: \r\n                                        <Text style={[style.textStyle, {fontWeight: 'normal'}]}>{props.route.params.item.fullname}</Text>\r\n                                    </Text>\r\n                                    <Text style={style.textStyle}>Chapter: \r\n                                        <Text style={[style.textStyle, {fontWeight: 'normal'}]}>{props.route.params.item.parts}</Text>\r\n                                    </Text>\r\n                                    <Text style={style.textStyle}>Vote: \r\n                                        <Text style={[style.textStyle, {fontWeight: 'normal'}]}>{props.route.params.item.vote}</Text>\r\n                                    </Text>\r\n                                    <Text style={style.textStyle}>Status: \r\n                                        <Text style={[style.textStyle, {fontWeight: 'normal'}]}>{props.route.params.item.story_status}</Text>\r\n                                    </Text>\r\n                                    <Text style={style.textStyle}>Warning times: \r\n                                        <Text style={[style.textStyle, {fontWeight: 'normal'}]}>{warningTimes}</Text>\r\n                                    </Text>\r\n                                    <Text style={style.textStyle}>Reporter:\r\n                                        <Text style={[style.textStyle, {fontWeight: 'normal'}]}>{item.fullname}</Text>\r\n                                    </Text>\r\n                                </View>\r\n                            </View>\r\n                            <Text style={style.textStyle}>Content report: <Text style={[style.textStyle, {fontWeight: 'normal', textAlign: 'justify'}]}>{props.route.params.item.report_content}</Text></Text>\r\n                        </View>\r\n                    </View>\r\n                )}\r\n                showsHorizontalScrollIndicator={false}\r\n            />\r\n        )}\r\n\r\n        <Modal\r\n            animationType=\"slide\"\r\n            transparent={true}\r\n            visible={modalVisible}\r\n            onRequestClose={() => {setModalVisible(!modalVisible);}}\r\n        >\r\n            <View style={style.centeredView}>\r\n            <View style={style.modalView}>\r\n                <FlatList\r\n                    data={dataSource}\r\n                    keyExtractor= {item => item.chapter_id.toString()}\r\n                    ListHeaderComponent={headerComponent}\r\n                    renderItem={({ item }) => (\r\n                    <TouchableOpacity \r\n                        onPress={() => props.navigation.navigate('chapterContent', {item: item, story: props.route.params.item}, \r\n                        setModalVisible(!modalVisible)\r\n                        )} style={style.chapter}>         \r\n                        <Text numberOfLines={1}>{item.chapter_name}</Text>\r\n                    </TouchableOpacity>\r\n                    )}\r\n                    showsHorizontalScrollIndicator={false}\r\n                />\r\n                <TouchableOpacity\r\n                style={style.closeButtom}\r\n                onPress={() => {\r\n                    setModalVisible(!modalVisible);\r\n                }}\r\n                >\r\n                <Text style={style.textStyle2}>Hide chapter list</Text>\r\n                </TouchableOpacity>\r\n            </View>\r\n            </View>\r\n        </Modal> \r\n      </View>\r\n    );\r\n    function headerComponent () {\r\n        return (\r\n            <View style={{alignItems: \"center\"}}>\r\n                <Image style={style.imageModal}\r\n                    source={{uri: props.route.params.item.story_img}} \r\n                />\r\n                <Text style={style.titleModal} numberOfLines={2}>{props.route.params.item.story_title}</Text>\r\n            </View>\r\n        )\r\n    }\r\n    function footerComponent() {\r\n        return (\r\n            <View style={{alignItems: \"center\", flexDirection: 'row'}}>\r\n                <TouchableOpacity onPress={()=> sendWarning()}>\r\n                    <Text style={style.button}>Send warning</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity  onPress={()=> deleteStory()}>\r\n                    <Text style={style.button}>Delete story</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity onPress={()=> deleteAccount()}>\r\n                    <Text style={style.button}>Delete account</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity onPress={()=>getChapter()}>\r\n                    <Text style={style.button}>Read story</Text>\r\n                </TouchableOpacity>\r\n            </View>\r\n        )\r\n    }\r\n    function emptyList() {\r\n      return(\r\n        <View style={{justifyContent: 'center', alignItems: 'center'}}>\r\n          <Text style={{fontSize: 20, fontWeight: 'bold'}}>The story is deleted!!</Text>\r\n        </View>\r\n      )\r\n    };\r\n}\r\nexport {reportDetail};\r\n\r\nvar style = StyleSheet.create({\r\n    imageStory: {\r\n        width: 100,\r\n        height: 150,\r\n    },\r\n    button: {\r\n        backgroundColor: '#aa4fff',\r\n        borderRadius: 20,\r\n        color:'white', \r\n        fontWeight: 'bold', \r\n        fontSize: 12, \r\n        padding: 5,\r\n        marginTop: 20,\r\n        marginLeft: 5\r\n    },\r\n    title: {\r\n        fontSize: 20, \r\n        fontWeight: 'bold', \r\n        marginTop: 10, \r\n        marginBottom: 10\r\n    },\r\n    chapter: {\r\n        padding: 5,\r\n        flexDirection: 'row',        \r\n        borderBottomWidth: 0.5,\r\n        alignItems: 'center',\r\n        borderBottomColor: 'grey'\r\n    },\r\n    imgList: {\r\n      width: 40, \r\n      height: 40,\r\n    },\r\n    header: {\r\n        color: 'white',\r\n        fontSize: 18,\r\n    },\r\n    textStyle: {\r\n        fontSize: 15,\r\n        fontWeight: 'bold',\r\n    },\r\n    centeredView: {\r\n        flex: 1,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        marginTop: 22\r\n    },\r\n    modalView: {\r\n        margin: 10,\r\n        backgroundColor: \"white\",\r\n        borderRadius: 20,\r\n        padding: 10,\r\n        width: '80%',\r\n        height: '90%',\r\n        //alignItems: \"center\",\r\n        shadowColor: \"#000\",\r\n        shadowOffset: {\r\n        width: 0,\r\n        height: 2\r\n        },\r\n        shadowOpacity: 0.25,\r\n        shadowRadius: 3.84,\r\n        elevation: 5\r\n    },\r\n    textStyle2: {\r\n        color: \"white\",\r\n        fontWeight: \"bold\",\r\n        textAlign: \"center\"\r\n    },\r\n    modalText: {\r\n        marginBottom: 15,\r\n        textAlign: \"center\"\r\n    },\r\n    imageModal: {\r\n        width: 150,\r\n        height: 200,\r\n        marginTop: 20,\r\n    },\r\n    titleModal: {\r\n        fontSize: 15, \r\n        fontWeight: 'bold', \r\n        marginTop: 10, \r\n        marginBottom: 10\r\n    },\r\n    chapter: {\r\n        padding: 10,\r\n        borderBottomWidth: 0.5,\r\n        borderBottomColor: 'grey'\r\n    },\r\n    closeButtom: {\r\n        backgroundColor: \"#aa4fff\",\r\n        borderRadius: 20,\r\n        padding: 10,\r\n        elevation: 2,\r\n    }\r\n})"]},"metadata":{},"sourceType":"module"}